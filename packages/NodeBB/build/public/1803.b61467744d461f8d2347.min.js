"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[1803],{41803:(e,a,t)=>{var n,o;n=[t(85233),t(7237),t(74344),t(7927)],void 0===(o=function(e,a,t,n){const o={};let s,l,d;function r(){s.find("#flag-reason-custom").val()?l.removeAttr("disabled"):l.attr("disabled",!0)}return o.showFlagModal=function(o){app.parseAndTranslate("partials/modals/flag_modal",o,(function(i){s=i,s.on("hidden.bs.modal",(function(){s.remove()})),l=s.find("#flag-post-commit"),d=s.find("#flag-reason-custom"),s.on("click",'input[name="flag-reason"]',(function(){"flag-reason-other"===$(this).attr("id")?(d.removeAttr("disabled"),d.val().length||l.attr("disabled",!0)):(d.attr("disabled",!0),l.removeAttr("disabled"))})),l.on("click",(function(){const l=$('input[name="flag-reason"]:checked');let r=l.val();"flag-reason-other"===l.attr("id")&&(r=d.val()),function(o,l,d){if(!o||!l||!d)return;const r={type:o,id:l,reason:d};t.post("/flags",r,(function(t,d){if(t)return n.error(t);if(s.modal("hide"),n.success("[[flags:modal-submit-success]]"),"post"===o){const e=a.get("post","pid",l);e.find('[component="post/flag"]').addClass("hidden").parent().attr("hidden",""),e.find('[component="post/already-flagged"]').removeClass("hidden").parent().attr("hidden",null)}e.fire("action:flag.create",{flagId:d,data:r})}))}(o.type,o.id,r)})),s.on("click","#flag-reason-other",(function(){d.focus()})),s.modal("show"),e.fire("action:flag.showModal",{modalEl:s,type:o.type,id:o.id}),s.find("#flag-reason-custom").on("keyup blur change",r)}))},o.resolve=function(a){t.put(`/flags/${a}`,{state:"resolved"}).then((()=>{n.success("[[flags:resolved]]"),e.fire("action:flag.resolved",{flagId:a})})).catch(n.error)},o}.apply(a,n))||(e.exports=o)}}]);