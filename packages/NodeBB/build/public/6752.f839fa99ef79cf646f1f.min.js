"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[6752,145,7214,6503,6028,71,8306,7927],{7927:(e,t,o)=>{var n,i;n=[o(32230),o(7237),o(85233)],i=function(e,t,o){const n={};function i(e,t){e.find("strong").translateHtml(t.title),e.find("p").translateHtml(t.message),e.attr("class","alert alert-dismissable alert-"+t.type+" clearfix"),clearTimeout(parseInt(e.attr("timeoutId"),10)),t.timeout&&s(e,t),o.fire("action:alert.update",{alert:e,params:t}),e.off("click").removeClass("pointer"),"function"==typeof t.clickfn&&e.addClass("pointer").on("click",(function(o){$(o.target).is(".close")||t.clickfn(),r(e)}))}function r(e){e.fadeOut(500,(function(){$(this).remove()}))}function s(e,t){const n=t.timeout,i=setTimeout((function(){r(e),"function"==typeof t.timeoutfn&&t.timeoutfn(e,t)}),n);e.attr("timeoutId",i),e.css("transition-property","none"),e.removeClass("animate"),setTimeout((function(){e.css("transition-property",""),e.css("transition","width "+(n+450)+"ms linear, background-color "+(n+450)+"ms ease-in"),e.addClass("animate"),o.fire("action:alert.animate",{alert:e,params:t})}),50),e.on("mouseenter",(function(){$(this).css("transition-duration",0)}))}return n.alert=function(e){e.alert_id="alert_button_"+(e.alert_id?e.alert_id:(new Date).getTime()),e.title=e.title&&e.title.trim()||"",e.message=e.message?e.message.trim():"",e.type=e.type||"info";const n=$("#"+e.alert_id);n.length?i(n,e):function(e){app.parseAndTranslate("alert",e,(function(n){let a=$("#"+e.alert_id);if(a.length)return i(a,e);a=n,a.fadeIn(200),t.get("toaster/tray").prepend(a),"function"==typeof e.closefn&&a.find("button").on("click",(function(){return e.closefn(),r(a),!1})),e.timeout&&s(a,e),"function"==typeof e.clickfn&&a.addClass("pointer").on("click",(function(t){$(t.target).is(".close")||e.clickfn(a,e),r(a)})),o.fire("action:alert.new",{alert:a,params:e})}))}(e)},n.success=function(e,t){n.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:e,type:"success",timeout:t||5e3})},n.error=function(e,t){if("[[error:revalidate-failure]]"===(e=e&&e.message||e))return socket.disconnect(),void app.reconnect();n.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:e,type:"danger",timeout:t||1e4})},n.remove=function(e){$("#alert_button_"+e).remove()},n}.apply(t,n),void 0===i||(e.exports=i)},7237:(e,t,o)=>{var n;void 0===(n=function(){const e={};return e.core={"topic/teaser":function(e){return e?$('[component="category/topic"][data-tid="'+e+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(e,t){return $('[component="topic"][data-'+e+'="'+t+'"]')},post:function(e,t){return $('[component="post"][data-'+e+'="'+t+'"]')},"post/content":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/content"]')},"post/header":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/header"]')},"post/anchor":function(e){return $('[component="post"][data-index="'+e+'"] [component="post/anchor"]')},"post/vote-count":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/vote-count"]')},"post/bookmark-count":function(e){return $('[component="post"][data-pid="'+e+'"] [component="post/bookmark-count"]')},"user/postcount":function(e){return $('[component="user/postcount"][data-uid="'+e+'"]')},"user/reputation":function(e){return $('[component="user/reputation"][data-uid="'+e+'"]')},"category/topic":function(e,t){return $('[component="category/topic"][data-'+e+'="'+t+'"]')},"categories/category":function(e,t){return $('[component="categories/category"][data-'+e+'="'+t+'"]')},"chat/message":function(e){return $('[component="chat/message"][data-mid="'+e+'"]')},"chat/message/body":function(e){return $('[component="chat/message"][data-mid="'+e+'"] [component="chat/message/body"]')},"chat/recent/room":function(e){return $('[component="chat/recent/room"][data-roomid="'+e+'"]')}},e.get=function(){const t=Array.prototype.slice.call(arguments,1);return e.core[arguments[0]]&&t.length?e.core[arguments[0]].apply(this,t):$('[component="'+arguments[0]+'"]')},e}.call(t,o,t,e))||(e.exports=n)},39002:(e,t,o)=>{var n,i;n=[o(85233)],void 0===(i=function(e){return function(t){t=void 0===t||t,e.fire("action:app.logout"),$.ajax(config.relative_path+"/logout",{type:"POST",headers:{"x-csrf-token":config.csrf_token},beforeSend:function(){app.flags._logout=!0},success:function(o){e.fire("action:app.loggedOut",o),t&&(o.next?window.location.href=o.next:window.location.reload())}})}}.apply(t,n))||(e.exports=i)},44882:(e,t,o)=>{var n,i;n=[o(31369),o(32230),o(66603),o(7927),o(85233)],void 0===(i=function(e,t,o,n,i){const r={};let s,a;return r.show=function(){i.one("action:ajaxify.end",(()=>{!function(){const t=utils.params({full:!0});s=t.has("loggedin"),a=t.get("register"),s&&(n.alert({type:"success",title:"[[global:welcome_back]] "+app.user.username+"!",message:"[[global:you_have_successfully_logged_in]]",timeout:5e3}),t.delete("loggedin")),a&&(e.alert({message:utils.escapeHTML(decodeURIComponent(a))}),t.delete("register"));const o=t.toString();ajaxify.updateHistory(ajaxify.currentPage+(o?`?${o}`:"")+document.location.hash,!0)}(),config.cookies.enabled&&navigator.cookieEnabled&&!app.inAdmin&&"1"!==o.getItem("cookieconsent")&&(config.cookies.message=t.unescape(config.cookies.message),config.cookies.dismiss=t.unescape(config.cookies.dismiss),config.cookies.link=t.unescape(config.cookies.link),config.cookies.link_url=t.unescape(config.cookies.link_url),app.parseAndTranslate("partials/cookie-consent",config.cookies,(function(e){$(document.body).append(e),$(document.body).addClass("cookie-consent-open");const t=$(".cookie-consent");t.find("button").on("click",(function(){o.setItem("cookieconsent","1"),t.remove(),$(document.body).removeClass("cookie-consent-open")}))}))),r.showEmailConfirmWarning()}))},r.showEmailConfirmWarning=function(e){if(!config.emailPrompt||!app.user.uid||1===parseInt(o.getItem("email-confirm-dismiss"),10))return;const t={alert_id:"email_confirm",type:"warning",timeout:0,closefn:()=>{o.setItem("email-confirm-dismiss",1)}};app.user.email?app.user["email:confirmed"]||app.user.isEmailConfirmSent?!app.user["email:confirmed"]&&app.user.isEmailConfirmSent&&(t.message="[[error:email-not-confirmed-email-sent]]",n.alert(t)):(t.message=e||"[[error:email-not-confirmed]]",t.clickfn=function(){n.remove("email_confirm"),socket.emit("user.emailConfirm",{},(function(e){if(e)return n.error(e);n.success("[[notifications:email-confirm-sent]]")}))},n.alert(t)):(t.message="[[error:no-email-to-confirm]]",t.clickfn=function(){n.remove("email_confirm"),ajaxify.go("user/"+app.user.userslug+"/edit/email")},n.alert(t))},r.showInvalidSession=function(){e.alert({title:"[[error:invalid-session]]",message:"[[error:invalid-session-text]]",closeButton:!1,callback:function(){window.location.reload()}})},r.showSessionMismatch=function(){e.alert({title:"[[error:session-mismatch]]",message:"[[error:session-mismatch-text]]",closeButton:!1,callback:function(){window.location.reload()}})},r}.apply(t,n))||(e.exports=i)},66603:(e,t,o)=>{var n;void 0===(n=function(){function e(){this._store={},this._keys=[]}let t;e.prototype.isMock=!0,e.prototype.setItem=function(e,t){e=String(e),-1===this._keys.indexOf(e)&&this._keys.push(e),this._store[e]=t},e.prototype.getItem=function(e){return e=String(e),-1===this._keys.indexOf(e)?null:this._store[e]},e.prototype.removeItem=function(e){e=String(e),this._keys=this._keys.filter((function(t){return t!==e})),this._store[e]=null},e.prototype.clear=function(){this._keys=[],this._store={}},e.prototype.key=function(e){return e=parseInt(e,10)||0,this._keys[e]},Object.defineProperty&&Object.defineProperty(e.prototype,"length",{get:function(){return this._keys.length}});const o=Date.now().toString();try{if(t=window.localStorage,t.setItem(o,o),t.getItem(o)!==o)throw Error("localStorage behaved unexpectedly");return t.removeItem(o),t}catch(n){console.warn(n),console.warn("localStorage failed, falling back on sessionStorage");try{if(t=window.sessionStorage,t.setItem(o,o),t.getItem(o)!==o)throw Error("sessionStorage behaved unexpectedly");return t.removeItem(o),t}catch(t){return console.warn(t),console.warn("sessionStorage failed, falling back on memory storage"),new e}}}.call(t,o,t,e))||(e.exports=n)}}]);