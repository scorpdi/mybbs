"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[6193],{86193:(e,t,n)=>{var u,o;u=[n(74344),n(7927)],o=function(e,t){const n={},u={delay:200};return n.init=e=>{const{input:t,source:n,onSelect:o,delay:i}={...u,...e};app.loadJQueryUI((function(){t.autocomplete({delay:i,open:function(){$(this).autocomplete("widget").css("z-index",100005)},select:function(e,n){!function(e,t,n,u){t=t||function(){};const o=jQuery.Event("keypress");o.which=13,o.keyCode=13,setTimeout((function(){e.trigger(o)}),100),t(n,u)}(t,o,e,n)},source:n})}))},n.user=function(u,o,i){"function"==typeof o&&(i=o,o={}),o=o||{},n.init({input:u,onSelect:i,source:(n,u)=>{o.query=n.term,e.get("/api/users",o,(function(e,n){if(e)return t.error(e);if(n&&n.users){const e=n.users.map((function(e){const t=$("<div></div>").html(e.username).text();return e&&{label:t,value:t,user:{uid:e.uid,name:e.username,slug:e.userslug,username:e.username,userslug:e.userslug,picture:e.picture,banned:e.banned,"icon:text":e["icon:text"],"icon:bgColor":e["icon:bgColor"]}}}));u(e)}$(".ui-autocomplete a").attr("data-ajaxify","false")}))}})},n.group=function(e,u){n.init({input:e,onSelect:u,source:(e,n)=>{socket.emit("groups.search",{query:e.term},(function(e,u){if(e)return t.error(e);if(u&&u.length){const e=u.map((function(e){return e&&{label:e.name,value:e.name,group:e}}));n(e)}$(".ui-autocomplete a").attr("data-ajaxify","false")}))}})},n.tag=function(e,u){n.init({input:e,onSelect:u,delay:100,source:(e,n)=>{socket.emit("topics.autocompleteTags",{query:e.term,cid:ajaxify.data.cid||0},(function(e,u){if(e)return t.error(e);u&&n(u),$(".ui-autocomplete a").attr("data-ajaxify","false")}))}})},n}.apply(t,u),void 0===o||(e.exports=o)}}]);