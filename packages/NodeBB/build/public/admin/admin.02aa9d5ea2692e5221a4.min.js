(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[4955],{73461:(e,t,n)=>{var i;!function(e){"use strict";var t={tagClass:function(e){return"label label-info"},focusClass:"focus",itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},itemTitle:function(e){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1,triggerChange:!0};function n(t,n){this.isInit=!0,this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="bootstrap-tagsinput"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(n),this.isInit=!1}function i(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function o(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}n.prototype={constructor:n,add:function(t,n,i){var o=this;if(!(o.options.maxTags&&o.itemsArray.length>=o.options.maxTags)&&(!1===t||t)){if("string"==typeof t&&o.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!o.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(o.isSelect&&!o.multiple&&o.itemsArray.length>0&&o.remove(o.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var a=o.options.delimiterRegex?o.options.delimiterRegex:o.options.delimiter,s=t.split(a);if(s.length>1){for(var l=0;l<s.length;l++)this.add(s[l],!0);return void(n||o.pushVal(o.options.triggerChange))}}var c=o.options.itemValue(t),u=o.options.itemText(t),p=o.options.tagClass(t),h=o.options.itemTitle(t),m=e.grep(o.itemsArray,(function(e){return o.options.itemValue(e)===c}))[0];if(!m||o.options.allowDuplicates){if(!(o.items().toString().length+t.length+1>o.options.maxInputLength)){var d=e.Event("beforeItemAdd",{item:t,cancel:!1,options:i});if(o.$element.trigger(d),!d.cancel){o.itemsArray.push(t);var f=e('<span class="tag '+r(p)+(null!==h?'" title="'+h:"")+'">'+r(u)+'<span data-role="remove"></span></span>');if(f.data("item",t),o.findInputWrapper().before(f),f.after(" "),o.isSelect&&!e('option[value="'+encodeURIComponent(c)+'"]',o.$element).length&&!e('option[value="'+r(c)+'"]',o.$element).length){var g=e("<option selected>"+r(u)+"</option>");g.data("item",t),g.attr("value",c),o.$element.append(g)}n||o.pushVal(o.options.triggerChange),o.options.maxTags!==o.itemsArray.length&&o.items().toString().length!==o.options.maxInputLength||o.$container.addClass("bootstrap-tagsinput-max"),e(".typeahead, .twitter-typeahead",o.$container).length&&o.$input.typeahead("val",""),this.isInit?o.$element.trigger(e.Event("itemAddedOnInit",{item:t,options:i})):o.$element.trigger(e.Event("itemAdded",{item:t,options:i}))}}}else if(o.options.onTagExists){var v=e(".tag",o.$container).filter((function(){return e(this).data("item")===m}));o.options.onTagExists(t,v)}}}},remove:function(t,n,i){var o=this;if(o.objectItems&&(t=(t="object"==typeof t?e.grep(o.itemsArray,(function(e){return o.options.itemValue(e)==o.options.itemValue(t)})):e.grep(o.itemsArray,(function(e){return o.options.itemValue(e)==t})))[t.length-1]),t){var a=e.Event("beforeItemRemove",{item:t,cancel:!1,options:i});if(o.$element.trigger(a),a.cancel)return;e(".tag",o.$container).filter((function(){return e(this).data("item")===t})).remove(),e("option",o.$element).filter((function(){return e(this).data("item")===t})).remove(),-1!==e.inArray(t,o.itemsArray)&&o.itemsArray.splice(e.inArray(t,o.itemsArray),1)}n||o.pushVal(o.options.triggerChange),o.options.maxTags>o.itemsArray.length&&o.$container.removeClass("bootstrap-tagsinput-max"),o.$element.trigger(e.Event("itemRemoved",{item:t,options:i}))},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal(t.options.triggerChange)},refresh:function(){var t=this;e(".tag",t.$container).each((function(){var n=e(this),i=n.data("item"),o=t.options.itemValue(i),a=t.options.itemText(i),s=t.options.tagClass(i);n.attr("class",null),n.addClass("tag "+r(s)),n.contents().filter((function(){return 3==this.nodeType}))[0].nodeValue=r(a),t.isSelect&&e("option",t.$element).filter((function(){return e(this).data("item")===i})).attr("value",o)}))},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),(function(e){return t.options.itemValue(e).toString()}));t.$element.val(n,!0),t.options.triggerChange&&t.$element.trigger("change")},build:function(n){var a=this;if(a.options=e.extend({},t,n),a.objectItems&&(a.options.freeInput=!1),i(a.options,"itemValue"),i(a.options,"itemText"),o(a.options,"tagClass"),a.options.typeahead){var r=a.options.typeahead||{};o(r,"source"),a.$input.typeahead(e.extend({},r,{source:function(t,n){function i(e){for(var t=[],i=0;i<e.length;i++){var r=a.options.itemText(e[i]);o[r]=e[i],t.push(r)}n(t)}this.map={};var o=this.map,s=r.source(t);e.isFunction(s.success)?s.success(i):e.isFunction(s.then)?s.then(i):e.when(s).then(i)},updater:function(e){return a.add(this.map[e]),this.map[e]},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))}if(a.options.typeaheadjs){var l=null,c={},u=a.options.typeaheadjs;e.isArray(u)?(l=u[0],c=u[1]):c=u,a.$input.typeahead(l,c).on("typeahead:selected",e.proxy((function(e,t){c.valueKey?a.add(t[c.valueKey]):a.add(t),a.$input.typeahead("val","")}),a))}a.$container.on("click",e.proxy((function(e){a.$element.attr("disabled")||a.$input.removeAttr("disabled"),a.$input.focus()}),a)),a.options.addOnBlur&&a.options.freeInput&&a.$input.on("focusout",e.proxy((function(t){0===e(".typeahead, .twitter-typeahead",a.$container).length&&(a.add(a.$input.val()),a.$input.val(""))}),a)),a.$container.on({focusin:function(){a.$container.addClass(a.options.focusClass)},focusout:function(){a.$container.removeClass(a.options.focusClass)}}),a.$container.on("keydown","input",e.proxy((function(t){var n=e(t.target),i=a.findInputWrapper();if(a.$element.attr("disabled"))a.$input.attr("disabled","disabled");else{switch(t.which){case 8:if(0===s(n[0])){var o=i.prev();o.length&&a.remove(o.data("item"))}break;case 46:if(0===s(n[0])){var r=i.next();r.length&&a.remove(r.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var c=i.next();0===n.val().length&&c[0]&&(c.after(i),n.focus())}var u=n.val().length;Math.ceil(u/5),n.attr("size",Math.max(this.inputSize,n.val().length))}}),a)),a.$container.on("keypress","input",e.proxy((function(t){var n=e(t.target);if(a.$element.attr("disabled"))a.$input.attr("disabled","disabled");else{var i,o,r,s=n.val(),l=a.options.maxChars&&s.length>=a.options.maxChars;a.options.freeInput&&(i=t,o=a.options.confirmKeys,r=!1,e.each(o,(function(e,t){if("number"==typeof t&&i.which===t)return r=!0,!1;if(i.which===t.which){var n=!t.hasOwnProperty("altKey")||i.altKey===t.altKey,o=!t.hasOwnProperty("shiftKey")||i.shiftKey===t.shiftKey,a=!t.hasOwnProperty("ctrlKey")||i.ctrlKey===t.ctrlKey;if(n&&o&&a)return r=!0,!1}})),r||l)&&(0!==s.length&&(a.add(l?s.substr(0,a.options.maxChars):s),n.val("")),!1===a.options.cancelConfirmKeysOnEmpty&&t.preventDefault());var c=n.val().length;Math.ceil(c/5),n.attr("size",Math.max(this.inputSize,n.val().length))}}),a)),a.$container.on("click","[data-role=remove]",e.proxy((function(t){a.$element.attr("disabled")||a.remove(e(t.target).closest(".tag").data("item"))}),a)),a.options.itemValue===t.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):e("option",a.$element).each((function(){a.add(e(this).attr("value"),!0)})))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(t,i,o){var a=[];return this.each((function(){var r=e(this).data("tagsinput");if(r)if(t||i){if(void 0!==r[t]){if(3===r[t].length&&void 0!==o)var s=r[t](i,null,o);else s=r[t](i);void 0!==s&&a.push(s)}}else a.push(r);else r=new n(this,t),e(this).data("tagsinput",r),a.push(r),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())})),"string"==typeof t?a.length>1?a:a[0]:a},e.fn.tagsinput.Constructor=n;var a=e("<div />");function r(e){return e?a.text(e).html():""}function s(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}e((function(){e("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()}))}(window.jQuery),jQuery.fn.serializeObject=function(){for(var e={},t=this.serializeArray(),n=0,i=t.length;n<i;n++){var o=t[n],a=o.name,r=null!=o.value?o.value:"";void 0!==e[a]?(e[a].push||(e[a]=[e[a]]),e[a].push(r)):e[a]=r}return e},i=function(e){function t(e,t,n){var i=n[e];return void 0===i?n[e]=[t]:i.push(t),n}var n={checked:["radio","checkbox"],selected:["option","select-one","select-multiple"],value:["button","color","date","datetime","datetime-local","email","hidden","month","number","password","range","reset","search","submit","tel","text","textarea","time","url","week"]};var i={change:e.noop,complete:e.noop};e.fn.deserialize=function(o,a){e.isFunction(a)&&(a={complete:a}),a=e.extend(i,a||{}),o=function(n){var i={},o=/\+/g;return e.isPlainObject(n)?(e.extend(i,n),e.each(i,(function(t,n){e.isArray(n)||(i[t]=[n])}))):e.isArray(n)?e.each(n,(function(e,n){t(n.name,n.value,i)})):"string"==typeof n&&e.each(n.split("&"),(function(e,n){var a=n.split("=");t(decodeURIComponent(a[0].replace(o,"%20")),decodeURIComponent(a[1].replace(o,"%20")),i)})),i}(o);var r=function(n,i){var o={},a=n.map((function(){return this.elements?e.makeArray(this.elements):this})).filter(i||":input:not(:disabled)").get();return e.each(a,(function(e,n){t(n.name,n,o)})),o}(this,a.filter);return e.each(o,(function(t,i){e.each(r[t],(function(t,o){e.each(i,(function(i,r){!function(t,i,o,a,r){var s=function(t){var i=function(e){return(e.type||e.nodeName).toLowerCase()}(t),o=void 0;return e.each(n,(function(t,n){if(e.inArray(i,n)>-1)return o=t,!1})),o}(t);if("value"==s&&i==a)t.value=o,r.call(t,o);else if("checked"==s||"selected"==s){var l=[];t.options?e.each(t.options,(function(e,t){l.push(t)})):l.push(t),t.multiple&&0==a&&(t.selectedIndex=-1),e.each(l,(function(e,t){t.value==o&&(t[s]=!0,r.call(t,o))}))}}(o,t,r,i,a.change)}))}))})),a.complete.call(this),this}},e.exports?e.exports=i(n(19755)):i(window.jQuery),Promise.resolve().then((function(){var e=[n(32230),n(31369)];(function(e,t){"use strict";Object.defineProperty?Object.defineProperty(window,"bootbox",{configurable:!0,enumerable:!0,get:function(){return console.warn('[deprecated] Accessing bootbox globally is deprecated. Use `require(["bootbox"], function (bootbox) { ... })` instead'),t}}):window.bootbox=t,t.setDefaults({locale:config.userLang});var n=e.Translator.create(),i=t.dialog,o=["placeholder","title","value","label"];t.dialog=function(e){var a=!1!==e.show;e.show=!1;var r=i.call(t,e),s=r[0];return/\[\[.+\]\]/.test(s.outerHTML)?n.translateInPlace(s,o).then((function(){a&&r.modal("show")})):a&&r.modal("show"),r},Promise.all([n.translateKey("modules:bootbox.ok",[]),n.translateKey("modules:bootbox.cancel",[]),n.translateKey("modules:bootbox.confirm",[])]).then((function(n){var i=e.getLanguage();t.addLocale(i,{OK:n[0],CANCEL:n[1],CONFIRM:n[2]}),t.setLocale(i)}))}).apply(null,e)})).catch(n.oe),n.e(1322).then((function(){var e=[n(40646)];(function(e){$(window).on("composer:autocomplete:init chat:autocomplete:init",(function(t,n){e.init(),n.strategies.push(e.strategy)}))}).apply(null,e)})).catch(n.oe)},32887:(e,t,n)=>{"use strict";n(3155),n(73461),app.onDomReady(),function(){let e,t=0;Promise.resolve().then((function(){var i=[n(85233)];(i=>{i.on("action:ajaxify.end",(()=>{window.location.hash&&$('.nav-pills a[href="'+window.location.hash+'"]').tab("show"),app.config.adminReloginDuration<=0||(t&&clearTimeout(t),e||Promise.resolve().then((function(){var t=[n(32230)];(function(t){t.translate("[[login:logged-out-due-to-inactivity]]",(function(t){e=t}))}).apply(null,t)})).catch(n.oe),t=setTimeout((function(){Promise.resolve().then((function(){var t=[n(31369)];(function(t){t.alert({closeButton:!1,message:e,callback:function(){window.location.reload()}})}).apply(null,t)})).catch(n.oe)}),36e5)),$(".settings").length&&Promise.all([n.e(2441),n.e(6027)]).then((function(){var e=[n(99764)];(function(e){e.prepare(),e.populateTOC()}).apply(null,e)})).catch(n.oe)}))}).apply(null,i)})).catch(n.oe),$(document).ready((function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||Promise.all([n.e(2441),n.e(7527)]).then((function(){var e=[n(24601)];(function(e){e.init()}).apply(null,e)})).catch(n.oe),$('[component="logout"]').on("click",(function(){return n.e(145).then((function(){var e=[n(39002)];(function(e){e()}).apply(null,e)})).catch(n.oe),!1})),n.e(9933).then((function(){var e=[n(29933)];(function(e){let t=utils.findBootstrapEnvironment();const n=new e({panel:document.getElementById("panel"),menu:document.getElementById("menu"),padding:256,tolerance:70});"md"!==t&&"lg"!==t||n.disableTouch(),$("#mobile-menu").on("click",(function(){n.toggle()})),$("#menu a").on("click",(function(){n.close()})),$(window).on("resize",(function(){n.close(),t=utils.findBootstrapEnvironment(),"md"===t||"lg"===t?(n.disableTouch(),$("#header").css({position:"relative"})):(n.enableTouch(),$("#header").css({position:"fixed"}))})),n.on("open",(function(){$("#header").css({top:-1*$("#panel").position().top+"px",position:"absolute"})})),n.on("close",(function(){$("#header").css({top:"0px",position:"fixed"})}))}).apply(null,e)})).catch(n.oe),n.e(4865).then((function(){var e=[n(74865),n(85233)];(function(e,t){$(window).on("action:ajaxify.start",(function(){e.set(.7)})),t.on("action:ajaxify.end",(function(){e.done()}))}).apply(null,e)})).catch(n.oe)})),$(window).on("action:ajaxify.contentLoaded",(function(e,t){var i;i=t.url,Promise.resolve().then((function(){var e=[n(32230)];(function(e){let t,n,o;if("admin"===(i=i.replace(/\/\d+$/,"").split("/").slice(0,3).join("/").split(/[?#]/)[0].replace(/(\/+$)|(^\/+)/,""))&&(i="admin/dashboard"),i=[config.relative_path,i].join("/"),$("#main-menu li").removeClass("active"),$("#main-menu a").removeClass("active").filter('[href="'+i+'"]').each((function(){const e=$(this);e.parent().attr("data-link")||(e.parent().addClass("active").parents(".menu-item").addClass("active"),t=e.text())})),/admin\/plugins\//.test(i))n=t,o="[[admin/menu:section-plugins]] > "+n;else{const t=i.match(/admin\/(.+?)\/(.+?)$/);t?(n="[[admin/menu:"+t[1]+"/"+t[2]+"]]",o="[[admin/menu:section-"+("development"===t[1]?"advanced":t[1])+"]]"+(t[2]?" > "+n:""),"settings"===t[2]&&(n=e.compile("admin/menu:settings.page-title",n))):(n="[[admin/menu:section-dashboard]]",o="[[admin/menu:section-dashboard]]")}o=e.compile("admin/admin:acp-title",o),e.translate(o,(function(e){document.title=e.replace(/&gt;/g,">")})),e.translate(n,(function(e){$("#main-page-title").text(e)}))}).apply(null,e)})).catch(n.oe),n.e(7201).then((function(){var e=[n(59006),n(31369),n(64117)];(function(e,t,n){e.render("alert",{}).then((function(){$(".rebuild-and-restart").off("click").on("click",(function(){t.confirm("[[admin/admin:alert.confirm-rebuild-and-restart]]",(function(e){e&&n.rebuildAndRestart()}))})),$(".restart").off("click").on("click",(function(){t.confirm("[[admin/admin:alert.confirm-restart]]",(function(e){e&&n.restart()}))}))}))}).apply(null,e)})).catch(n.oe),n(5766),componentHandler.upgradeDom()}))}()}}]);