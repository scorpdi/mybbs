(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[8609,7214,6503,3014,8253,2256,6623,71,831,7927,6193],{44931:(t,e,n)=>{"use strict";var s,o;s=[n(7237),n(17757),n(39941),n(86193),n(74344),n(7927)],void 0===(o=function(t,e,n,s,o,a){const r={};let i;return r.init=function(){r.enableFilterForm(),r.enableCheckboxes(),r.handleBulkActions(),i=[],ajaxify.data.filters.hasOwnProperty("cid")&&(i=Array.isArray(ajaxify.data.filters.cid)?ajaxify.data.filters.cid:[ajaxify.data.filters.cid]),n.init($('[component="category/dropdown"]'),{privilege:"moderate",selectedCids:i,onHidden:function(t){i=t.selectedCids}}),t.get("flags/list").on("click","[data-flag-id]",(function(t){if(["BUTTON","A"].includes(t.target.nodeName))return;const e=this.getAttribute("data-flag-id");ajaxify.go("flags/"+e)})),$("#flags-daily-wrapper").one("shown.bs.collapse",(function(){r.handleGraphs()})),s.user($("#filter-assignee, #filter-targetUid, #filter-reporterId"),((t,e)=>{setTimeout((()=>{t.target.value=e.item.user.uid}))}))},r.enableFilterForm=function(){const e=t.get("flags/filters");for(const t in ajaxify.data.filters)ajaxify.data.filters.hasOwnProperty(t)&&e.find('[name="'+t+'"]').val(ajaxify.data.filters[t]);e.find('[name="sort"]').val(ajaxify.data.sort),document.getElementById("apply-filters").addEventListener("click",(function(){const t=e.serializeArray();i.forEach((function(e){t.push({name:"cid",value:e})})),ajaxify.go("flags?"+(t.length?$.param(t):"reset=1"))})),e.find('button[data-target="#more-filters"]').click((t=>{const e=t.target.getAttribute("data-text-variant");e&&(t.target.setAttribute("data-text-variant",t.target.textContent),t.target.firstChild.textContent=e)}))},r.enableCheckboxes=function(){const t=document.querySelector('[component="flags/list"]'),e=t.querySelectorAll('[data-flag-id] input[type="checkbox"]'),n=document.querySelector('[component="flags/bulk-actions"] button');let s;document.querySelector('[data-action="toggle-all"]').addEventListener("click",(function(){const t=this.checked;e.forEach((function(e){e.checked=t})),n.disabled=!t})),t.addEventListener("click",(function(t){const o=t.target.closest('input[type="checkbox"]');if(o){if(t.stopImmediatePropagation(),s&&t.shiftKey&&s!==o){const t=o.checked;let n=!1;e.forEach((function(e){[o,s].some((function(t){return t===e}))&&(n=!n),n&&(e.checked=t)}))}n.disabled=!Array.prototype.some.call(e,(function(t){return t.checked})),s=o}t.target.querySelector('input[type="checkbox"]')&&t.stopImmediatePropagation()}))},r.handleBulkActions=function(){document.querySelector('[component="flags/bulk-actions"]').addEventListener("click",(function(t){const e=t.target.closest("[data-action]");if(e){const t=e.getAttribute("data-action"),n=r.getSelected().map((e=>{const n={};return"bulk-assign"===t?n.assignee=app.user.uid:"bulk-mark-resolved"===t&&(n.state="resolved"),o.put(`/flags/${e}`,n)}));Promise.allSettled(n).then((function(t){const e=t.filter((function(t){return"fulfilled"===t.status})).length,n=t.filter((function(t){return"rejected"===t.status}));e&&(a.success("[[flags:bulk-success, "+e+"]]"),ajaxify.refresh()),n.forEach((function(t){a.error(t.reason)}))}))}}))},r.getSelected=function(){const t=document.querySelectorAll('[component="flags/list"] [data-flag-id] input[type="checkbox"]'),e=[];return t.forEach((function(t){t.checked&&e.push(t.closest("[data-flag-id]").getAttribute("data-flag-id"))})),e},r.handleGraphs=function(){const t=document.getElementById("flags:daily"),n=utils.getDaysArray().map((function(t,e){return e%3?"":t}));utils.isMobile()&&(e.defaults.global.tooltips.enabled=!1);const s={"flags:daily":{labels:n,datasets:[{label:"",backgroundColor:"rgba(151,187,205,0.2)",borderColor:"rgba(151,187,205,1)",pointBackgroundColor:"rgba(151,187,205,1)",pointHoverBackgroundColor:"#fff",pointBorderColor:"#fff",pointHoverBorderColor:"rgba(151,187,205,1)",data:ajaxify.data.analytics}]}};t.width=$(t).parent().width(),new e(t.getContext("2d"),{type:"line",data:s["flags:daily"],options:{responsive:!0,animation:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,precision:0}}]}}})},r}.apply(e,s))||(t.exports=o)},7927:(t,e,n)=>{"use strict";var s,o;s=[n(32230),n(7237),n(85233)],o=function(t,e,n){const s={};function o(t,e){t.find("strong").translateHtml(e.title),t.find("p").translateHtml(e.message),t.attr("class","alert alert-dismissable alert-"+e.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),e.timeout&&r(t,e),n.fire("action:alert.update",{alert:t,params:e}),t.off("click").removeClass("pointer"),"function"==typeof e.clickfn&&t.addClass("pointer").on("click",(function(n){$(n.target).is(".close")||e.clickfn(),a(t)}))}function a(t){t.fadeOut(500,(function(){$(this).remove()}))}function r(t,e){const s=e.timeout,o=setTimeout((function(){a(t),"function"==typeof e.timeoutfn&&e.timeoutfn(t,e)}),s);t.attr("timeoutId",o),t.css("transition-property","none"),t.removeClass("animate"),setTimeout((function(){t.css("transition-property",""),t.css("transition","width "+(s+450)+"ms linear, background-color "+(s+450)+"ms ease-in"),t.addClass("animate"),n.fire("action:alert.animate",{alert:t,params:e})}),50),t.on("mouseenter",(function(){$(this).css("transition-duration",0)}))}return s.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:(new Date).getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const s=$("#"+t.alert_id);s.length?o(s,t):function(t){app.parseAndTranslate("alert",t,(function(s){let i=$("#"+t.alert_id);if(i.length)return o(i,t);i=s,i.fadeIn(200),e.get("toaster/tray").prepend(i),"function"==typeof t.closefn&&i.find("button").on("click",(function(){return t.closefn(),a(i),!1})),t.timeout&&r(i,t),"function"==typeof t.clickfn&&i.addClass("pointer").on("click",(function(e){$(e.target).is(".close")||t.clickfn(i,t),a(i)})),n.fire("action:alert.new",{alert:i,params:t})}))}(t)},s.success=function(t,e){s.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:e||5e3})},s.error=function(t,e){if("[[error:revalidate-failure]]"===(t=t&&t.message||t))return socket.disconnect(),void app.reconnect();s.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:e||1e4})},s.remove=function(t){$("#alert_button_"+t).remove()},s}.apply(e,s),void 0===o||(t.exports=o)},74344:(t,e,n)=>{"use strict";var s,o;s=[n(85233)],void 0===(o=(t=>{const e={},n=config.relative_path+"/api/v3";function s(e,s){async function o(n){({options:e}=await t.fire("filter:api.options",{options:e})),$.ajax(e).done((t=>{n(null,t&&t.hasOwnProperty("status")&&t.hasOwnProperty("response")?t.response:t||{})})).fail((t=>{let e;t.responseJSON&&(e=t.responseJSON.status&&t.responseJSON.status.message?t.responseJSON.status.message:t.responseJSON.error),n(new Error(e||t.statusText))}))}if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:n+e.url,"function"!=typeof s)return new Promise(((t,e)=>{o((function(n,s){n?e(n):t(s)}))}));o(s)}return e.get=(t,e,n)=>s({url:t+(e&&Object.keys(e).length?"?"+$.param(e):"")},n),e.head=(t,e,n)=>s({url:t+(e&&Object.keys(e).length?"?"+$.param(e):""),method:"head"},n),e.post=(t,e,n)=>s({url:t,method:"post",data:JSON.stringify(e||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},n),e.patch=(t,e,n)=>s({url:t,method:"patch",data:JSON.stringify(e||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},n),e.put=(t,e,n)=>s({url:t,method:"put",data:JSON.stringify(e||{}),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},n),e.del=(t,e,n)=>s({url:t,method:"delete",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",headers:{"x-csrf-token":config.csrf_token}},n),e.delete=e.del,e}).apply(e,s))||(t.exports=o)},86193:(t,e,n)=>{"use strict";var s,o;s=[n(74344),n(7927)],o=function(t,e){const n={},s={delay:200};return n.init=t=>{const{input:e,source:n,onSelect:o,delay:a}={...s,...t};app.loadJQueryUI((function(){e.autocomplete({delay:a,open:function(){$(this).autocomplete("widget").css("z-index",100005)},select:function(t,n){!function(t,e,n,s){e=e||function(){};const o=jQuery.Event("keypress");o.which=13,o.keyCode=13,setTimeout((function(){t.trigger(o)}),100),e(n,s)}(e,o,t,n)},source:n})}))},n.user=function(s,o,a){"function"==typeof o&&(a=o,o={}),o=o||{},n.init({input:s,onSelect:a,source:(n,s)=>{o.query=n.term,t.get("/api/users",o,(function(t,n){if(t)return e.error(t);if(n&&n.users){const t=n.users.map((function(t){const e=$("<div></div>").html(t.username).text();return t&&{label:e,value:e,user:{uid:t.uid,name:t.username,slug:t.userslug,username:t.username,userslug:t.userslug,picture:t.picture,banned:t.banned,"icon:text":t["icon:text"],"icon:bgColor":t["icon:bgColor"]}}}));s(t)}$(".ui-autocomplete a").attr("data-ajaxify","false")}))}})},n.group=function(t,s){n.init({input:t,onSelect:s,source:(t,n)=>{socket.emit("groups.search",{query:t.term},(function(t,s){if(t)return e.error(t);if(s&&s.length){const t=s.map((function(t){return t&&{label:t.name,value:t.name,group:t}}));n(t)}$(".ui-autocomplete a").attr("data-ajaxify","false")}))}})},n.tag=function(t,s){n.init({input:t,onSelect:s,delay:100,source:(t,n)=>{socket.emit("topics.autocompleteTags",{query:t.term,cid:ajaxify.data.cid||0},(function(t,s){if(t)return e.error(t);s&&n(s),$(".ui-autocomplete a").attr("data-ajaxify","false")}))}})},n}.apply(e,s),void 0===o||(t.exports=o)},39941:(t,e,n)=>{"use strict";var s,o;s=[n(22905),n(74344),n(85233)],void 0===(o=function(t,e,n){const s={init:function(s,o){if(!s||!s.length)return;(o=o||{}).states=o.states||["watching","notwatching","ignoring"],o.template="partials/category-filter",n.fire("action:category.filter.options",{el:s,options:o}),t.init(s,o);let a=[],r=[];Array.isArray(o.selectedCids)?a=o.selectedCids.map((t=>parseInt(t,10))):Array.isArray(ajaxify.data.selectedCids)&&(a=ajaxify.data.selectedCids.map((t=>parseInt(t,10)))),r=a.slice(),s.on("hidden.bs.dropdown",(function(){let t=r.length!==a.length;if(r.forEach((function(e,n){e!==a[n]&&(t=!0)})),t&&function(t,n){function s(e){app.parseAndTranslate("partials/category-filter-content",{selectedCategory:e},(function(e){t.find("button").replaceWith($("<div/>").html(e).find("button"))}))}n.length>1?s({icon:"fa-plus",name:"[[unread:multiple-categories-selected]]",bgColor:"#ddd"}):1===n.length?e.get(`/categories/${n[0]}`,{}).then(s):s()}(s,a),o.onHidden)o.onHidden({changed:t,selectedCids:a.slice()});else if(t){let t=window.location.pathname;const e=utils.params();a.length&&(e.cid=a,t+="?"+decodeURIComponent($.param(e))),ajaxify.go(t)}})),s.on("click",'[component="category/list"] [data-cid]',(function(){const t=s.find('[component="category/list"]'),e=$(this),n=e.find("a").attr("href");if(n&&"#"!==n&&n.length)return;const r=parseInt(e.attr("data-cid"),10),i=e.find('[component="category/select/icon"]');return a.includes(r)?a.splice(a.indexOf(r),1):a.push(r),a.sort((function(t,e){return t-e})),o.selectedCids=a,i.toggleClass("invisible"),t.find('li[data-all="all"] i').toggleClass("invisible",!!a.length),o.onSelect&&o.onSelect({cid:r,selectedCids:a.slice()}),!1}))}};return s}.apply(e,s))||(t.exports=o)},22905:(t,e,n)=>{"use strict";var s,o;s=[n(7927)],void 0===(o=function(t){const e={init:function(e,n){let s=null;(n=n||{}).privilege=n.privilege||"topics:read",n.states=n.states||["watching","notwatching","ignoring"];let o=[];Array.isArray(n.localCategories)&&(o=n.localCategories.map((t=>({...t})))),n.selectedCids=n.selectedCids||ajaxify.data.selectedCids||[];const a=e.find('[component="category-selector-search"]');if(!a.length)return;const r=a.parent('[component="category/dropdown"]').length>0||a.parent('[component="category-selector"]').length>0;function i(t){app.parseAndTranslate(n.template,{categoryItems:t.slice(0,200),selectedCategory:ajaxify.data.selectedCategory,allCategoriesUrl:ajaxify.data.allCategoriesUrl},(function(n){e.find('[component="category/list"]').replaceWith(n.find('[component="category/list"]')),e.find('[component="category/list"] [component="category/no-matches"]').toggleClass("hidden",!!t.length)}))}e.on("show.bs.dropdown",(function(){function c(){const e=a.find("input").val();var r,c;e.length>1||!e&&!s?(r=e,c=function(t){s=s||t,i(t)},socket.emit("categories.categorySearch",{search:r,query:utils.params(),parentCid:n.parentCid||0,selectedCids:n.selectedCids,privilege:n.privilege,states:n.states,showLinks:n.showLinks},(function(e,n){if(e)return t.error(e);c(o.concat(n))}))):!e&&s&&(s.forEach((function(t){t.selected=n.selectedCids.includes(t.cid)})),i(s))}r&&(e.find(".dropdown-toggle").addClass("hidden"),a.removeClass("hidden")),a.on("click",(function(t){t.preventDefault(),t.stopPropagation()})),a.find("input").val("").on("keyup",utils.debounce(c,300)),c()})),e.on("shown.bs.dropdown",(function(){a.find("input").focus()})),e.on("hide.bs.dropdown",(function(){r&&(e.find(".dropdown-toggle").removeClass("hidden"),a.addClass("hidden")),a.off("click"),a.find("input").off("keyup")}))}};return e}.apply(e,s))||(t.exports=o)},7237:(t,e,n)=>{"use strict";var s;void 0===(s=function(){const t={};return t.core={"topic/teaser":function(t){return t?$('[component="category/topic"][data-tid="'+t+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(t,e){return $('[component="topic"][data-'+t+'="'+e+'"]')},post:function(t,e){return $('[component="post"][data-'+t+'="'+e+'"]')},"post/content":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/content"]')},"post/header":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/header"]')},"post/anchor":function(t){return $('[component="post"][data-index="'+t+'"] [component="post/anchor"]')},"post/vote-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/vote-count"]')},"post/bookmark-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/bookmark-count"]')},"user/postcount":function(t){return $('[component="user/postcount"][data-uid="'+t+'"]')},"user/reputation":function(t){return $('[component="user/reputation"][data-uid="'+t+'"]')},"category/topic":function(t,e){return $('[component="category/topic"][data-'+t+'="'+e+'"]')},"categories/category":function(t,e){return $('[component="categories/category"][data-'+t+'="'+e+'"]')},"chat/message":function(t){return $('[component="chat/message"][data-mid="'+t+'"]')},"chat/message/body":function(t){return $('[component="chat/message"][data-mid="'+t+'"] [component="chat/message/body"]')},"chat/recent/room":function(t){return $('[component="chat/recent/room"][data-roomid="'+t+'"]')}},t.get=function(){const e=Array.prototype.slice.call(arguments,1);return t.core[arguments[0]]&&e.length?t.core[arguments[0]].apply(this,e):$('[component="'+arguments[0]+'"]')},t}.call(e,n,e,t))||(t.exports=s)},46700:(t,e,n)=>{var s={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=a,t.exports=o,o.id=46700}}]);