"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2179],{74648:(e,t,n)=>{var i,a;i=[n(59494),n(74344),n(85233),n(7927)],void 0===(a=function(e,t,n,i){const a={init:function(){e.init(),$("#user-search").on("keyup",(function(){const e=this.value;t.get("/api/users",{query:e,searchBy:"username",paginate:!1},(function(e,t){if(e)return i.error(e);t.matchCount>10&&(t.users.length=10),app.parseAndTranslate("account/blocks","edit",{edit:t.users},(function(e){$(".block-edit").html(e)}))}))})),$(".block-edit").on("click",'[data-action="toggle"]',(function(){const e=parseInt(this.getAttribute("data-uid"),10);socket.emit("user.toggleBlock",{blockeeUid:e,blockerUid:ajaxify.data.uid},a.refreshList)}))},refreshList:function(e){if(e)return i.error(e);$.get(config.relative_path+"/api/"+ajaxify.currentPage).done((function(e){app.parseAndTranslate("account/blocks","users",e,(function(e){$("#users-container").html(e),$("#users-container").siblings("div.alert")[e.length?"hide":"show"]()})),n.fire("action:user.blocks.toggle",{data:e})})).fail((function(){ajaxify.go(ajaxify.currentPage)}))}};return a}.apply(t,i))||(e.exports=a)}}]);