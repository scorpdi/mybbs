"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[9126],{9872:(e,n,t)=>{var o,a;o=[t(85233),t(32230),t(86569)],void 0===(a=function(e,n){const t={_capsState:!1,init:function(){const o=$("#login-error-notify"),a=$("#login"),s=$("#login-form");a.on("click",(function(t){if(t.preventDefault(),$("#username").val()&&$("#password").val()){if(o.hide(),a.hasClass("disabled"))return;a.addClass("disabled"),e.fire("action:app.login"),s.ajaxSubmit({headers:{"x-csrf-token":config.csrf_token},beforeSend:function(){app.flags._login=!0},success:function(n){e.fire("action:app.loggedIn",n);const t=utils.urlToLocation(n.next).pathname,o=utils.params({url:n.next});o.loggedin=!0,delete o.register;const a=decodeURIComponent($.param(o));window.location.href=t+"?"+a},error:function(e){let t=e.responseText;const s=e.responseJSON;403===e.status&&"Forbidden"===e.responseText?window.location.href=config.relative_path+"/login?error=csrf-invalid":s&&s.hasOwnProperty("banned_until")&&(t=s.banned_until?n.compile("error:user-banned-reason-until",new Date(s.banned_until).toLocaleString(),s.reason):"[[error:user-banned-reason, "+s.reason+"]]"),o.find("p").translateText(t),o.show(),a.removeClass("disabled"),$("#password:focus").length&&$("#password").select()}})}else o.find("p").translateText("[[error:invalid-username-or-password]]"),o.show()})),t.capsLockCheck(document.querySelector("#password"),document.querySelector("#caps-lock-warning")),$("#login-error-notify button").on("click",(function(e){return e.preventDefault(),o.hide(),!1})),$("#content #username").val()?$("#content #password").val("").focus():$("#content #username").focus(),$("#content #noscript").val("false")},capsLockCheck:(e,n)=>{const o=e=>{n.classList[e?"remove":"add"]("hidden"),n.parentNode.classList[e?"add":"remove"]("has-warning")};e&&(e.addEventListener("keyup",(function(e){if(t._capsState&&"CapsLock"===e.key)return o(!1),void(t._capsState=!t._capsState);t._capsState=e.getModifierState&&e.getModifierState("CapsLock"),o(t._capsState)})),t._capsState&&o(!0))}};return t}.apply(n,o))||(e.exports=a)}}]);