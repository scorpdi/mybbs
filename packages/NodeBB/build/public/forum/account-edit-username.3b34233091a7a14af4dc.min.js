"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[9981,999],{3281:(e,r,n)=>{var t,s;t=[n(59494),n(74344),n(22568),n(7927)],void 0===(s=function(e,r,n,t){return{init:function(){e.init(),$("#submitBtn").on("click",(function(){const e={uid:$("#inputUID").val(),username:$("#inputNewUsername").val(),password:$("#inputCurrentPassword").val()};if(!e.username)return;if(e.username===e.password)return t.error("[[user:username_same_as_password]]");const s=$(this);return s.addClass("disabled").find("i").removeClass("hide"),r.put("/users/"+e.uid,e).then((r=>{const t=n(e.username);e.username&&t&&parseInt(e.uid,10)===parseInt(app.user.uid,10)&&($('[component="header/profilelink"]').attr("href",config.relative_path+"/user/"+t),$('[component="header/profilelink/edit"]').attr("href",config.relative_path+"/user/"+t+"/edit"),$('[component="header/profilelink/settings"]').attr("href",config.relative_path+"/user/"+t+"/settings"),$('[component="header/username"]').text(e.username),$('[component="header/usericon"]').css("background-color",r["icon:bgColor"]).text(r["icon:text"]),$('[component="avatar/icon"]').css("background-color",r["icon:bgColor"]).text(r["icon:text"])),ajaxify.go("user/"+t+"/edit")})).catch(t.error).finally((()=>{s.removeClass("disabled").find("i").addClass("hide")})),!1}))}}}.apply(r,t))||(e.exports=s)},22568:(e,r,n)=>{var t,s,a;s=[n(20648)],void 0===(a="function"==typeof(t=function(e){const r=e("[^\\p{L}\\s\\d\\-_]","g"),n=/[^\w\s\d\-_]/g,t=/^\s+|\s+$/g,s=/\s+/g,a=/-+/g,o=/-$/g,i=/^-/g,c=/^[\w\d\s.,\-@]+$/;return function(u,p){return u?(u=String(u).replace(t,""),u=c.test(u)?u.replace(n,"-"):e.replace(u,r,"-"),u=(u=(u=(u=(u=p?u:u.toLocaleLowerCase()).replace(s,"-")).replace(a,"-")).replace(o,"")).replace(i,"")):""}})?t.apply(r,s):t)||(e.exports=a)}}]);