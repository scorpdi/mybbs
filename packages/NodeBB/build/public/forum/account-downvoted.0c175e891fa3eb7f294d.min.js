"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[3109,1549],{67391:(n,o,t)=>{var e,i;e=[t(59494),t(75913)],void 0===(i=function(n,o){return{init:function(){n.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-responsive"),o.handleInfiniteScroll("account/downvoted")}}}.apply(o,e))||(n.exports=i)},75913:(n,o,t)=>{var e,i;e=[t(59494),t(25142),t(85233)],void 0===(i=function(n,o,t){const e={};let i,s=1;function r(n){if(n<0)return;const e=utils.params();s+=1,e.page=s,o.loadMoreXhr(e,(function(n,o){var e,s;n.posts&&n.posts.length?(e=n.posts,s=o,app.parseAndTranslate(i,"posts",{posts:e},(function(n){$('[component="posts"]').append(n),n.find("img:not(.not-responsive)").addClass("img-responsive"),n.find(".timeago").timeago(),app.createUserTooltips(n),utils.makeNumbersHumanReadable(n.find(".human-readable-number")),t.fire("action:posts.loaded",{posts:e}),s()}))):o()}))}return e.init=function(){n.init(),$('[component="post/content"] img:not(.not-responsive)').addClass("img-responsive"),e.handleInfiniteScroll("account/posts")},e.handleInfiniteScroll=function(n){i=n,s=ajaxify.data.pagination.currentPage,config.usePagination||o.init(r)},e}.apply(o,e))||(n.exports=i)},25142:(n,o,t)=>{var e,i;e=[t(85233),t(7927)],void 0===(i=function(n,o){const t={};let e,i,s=0,r=!1,a=0;function c(){a&&clearTimeout(a),a=setTimeout((function(){a=0,function(){const n=utils.findBootstrapEnvironment(),o=("xs"===n||"sm"===n)&&$("html").hasClass("composing");if(r||o)return;const t=$(window).scrollTop(),a=$(window).height(),c=i.height()-a,l=100*(t-(i.offset()?i.offset().top:0))/(c<=0?a:c),p=t>s?1:-1;(l<15&&t<s||l>85&&t>s||l<0&&p>0&&c<0)&&e(p),s=t}()}),60)}return t.init=function(n,o){const t=$("body");"function"==typeof n?(e=n,i=t):(e=o,i=n||t),s=$(window).scrollTop(),$(window).off("scroll",c).on("scroll",c),t.height()<=$(window).height()&&e(1)},t.loadMore=function(t,e,i){if(r)return;r=!0;const s={method:t,data:e};n.fire("action:infinitescroll.loadmore",s),socket.emit(s.method,s.data,(function(n,t){if(n)return r=!1,o.error(n);i(t,(function(){r=!1}))}))},t.loadMoreXhr=function(t,e){if(r)return;r=!0;const i=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),s={url:i,data:t};n.fire("action:infinitescroll.loadmore.xhr",s),$.get(i,t,(function(n){e(n,(function(){r=!1}))})).fail((function(n){r=!1,o.error(String(n.responseJSON||n.statusText))}))},t.removeExtra=function(n,o,t){let e=$();if(n.length<=t)return e;const i=n.length-t;if(o>0){const o=$(document).height(),t=$(window).scrollTop();e=n.slice(0,i).remove(),$(window).scrollTop(t+($(document).height()-o))}else e=n.slice(n.length-i).remove();return e},t}.apply(o,e))||(n.exports=i)}}]);