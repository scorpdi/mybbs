(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[3516,7214,6503,6721,71,8306,7927,7073],{7927:(t,e,n)=>{"use strict";var o,s;o=[n(32230),n(7237),n(85233)],s=function(t,e,n){const o={};function s(t,e){t.find("strong").translateHtml(e.title),t.find("p").translateHtml(e.message),t.attr("class","alert alert-dismissable alert-"+e.type+" clearfix"),clearTimeout(parseInt(t.attr("timeoutId"),10)),e.timeout&&r(t,e),n.fire("action:alert.update",{alert:t,params:e}),t.off("click").removeClass("pointer"),"function"==typeof e.clickfn&&t.addClass("pointer").on("click",(function(n){$(n.target).is(".close")||e.clickfn(),i(t)}))}function i(t){t.fadeOut(500,(function(){$(this).remove()}))}function r(t,e){const o=e.timeout,s=setTimeout((function(){i(t),"function"==typeof e.timeoutfn&&e.timeoutfn(t,e)}),o);t.attr("timeoutId",s),t.css("transition-property","none"),t.removeClass("animate"),setTimeout((function(){t.css("transition-property",""),t.css("transition","width "+(o+450)+"ms linear, background-color "+(o+450)+"ms ease-in"),t.addClass("animate"),n.fire("action:alert.animate",{alert:t,params:e})}),50),t.on("mouseenter",(function(){$(this).css("transition-duration",0)}))}return o.alert=function(t){t.alert_id="alert_button_"+(t.alert_id?t.alert_id:(new Date).getTime()),t.title=t.title&&t.title.trim()||"",t.message=t.message?t.message.trim():"",t.type=t.type||"info";const o=$("#"+t.alert_id);o.length?s(o,t):function(t){app.parseAndTranslate("alert",t,(function(o){let a=$("#"+t.alert_id);if(a.length)return s(a,t);a=o,a.fadeIn(200),e.get("toaster/tray").prepend(a),"function"==typeof t.closefn&&a.find("button").on("click",(function(){return t.closefn(),i(a),!1})),t.timeout&&r(a,t),"function"==typeof t.clickfn&&a.addClass("pointer").on("click",(function(e){$(e.target).is(".close")||t.clickfn(a,t),i(a)})),n.fire("action:alert.new",{alert:a,params:t})}))}(t)},o.success=function(t,e){o.alert({alert_id:utils.generateUUID(),title:"[[global:alert.success]]",message:t,type:"success",timeout:e||5e3})},o.error=function(t,e){if("[[error:revalidate-failure]]"===(t=t&&t.message||t))return socket.disconnect(),void app.reconnect();o.alert({alert_id:utils.generateUUID(),title:"[[global:alert.error]]",message:t,type:"danger",timeout:e||1e4})},o.remove=function(t){$("#alert_button_"+t).remove()},o}.apply(e,o),void 0===s||(t.exports=s)},7237:(t,e,n)=>{"use strict";var o;void 0===(o=function(){const t={};return t.core={"topic/teaser":function(t){return t?$('[component="category/topic"][data-tid="'+t+'"] [component="topic/teaser"]'):$('[component="topic/teaser"]')},topic:function(t,e){return $('[component="topic"][data-'+t+'="'+e+'"]')},post:function(t,e){return $('[component="post"][data-'+t+'="'+e+'"]')},"post/content":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/content"]')},"post/header":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/header"]')},"post/anchor":function(t){return $('[component="post"][data-index="'+t+'"] [component="post/anchor"]')},"post/vote-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/vote-count"]')},"post/bookmark-count":function(t){return $('[component="post"][data-pid="'+t+'"] [component="post/bookmark-count"]')},"user/postcount":function(t){return $('[component="user/postcount"][data-uid="'+t+'"]')},"user/reputation":function(t){return $('[component="user/reputation"][data-uid="'+t+'"]')},"category/topic":function(t,e){return $('[component="category/topic"][data-'+t+'="'+e+'"]')},"categories/category":function(t,e){return $('[component="categories/category"][data-'+t+'="'+e+'"]')},"chat/message":function(t){return $('[component="chat/message"][data-mid="'+t+'"]')},"chat/message/body":function(t){return $('[component="chat/message"][data-mid="'+t+'"] [component="chat/message/body"]')},"chat/recent/room":function(t){return $('[component="chat/recent/room"][data-roomid="'+t+'"]')}},t.get=function(){const e=Array.prototype.slice.call(arguments,1);return t.core[arguments[0]]&&e.length?t.core[arguments[0]].apply(this,e):$('[component="'+arguments[0]+'"]')},t}.call(e,n,e,t))||(t.exports=o)},7073:(t,e,n)=>{"use strict";var o,s;o=[n(32230),n(66603),n(85233),n(7927)],void 0===(s=function(t,e,n,o){const s={current:{}};function i(t){const e=t.in||"titles",s=t.by||"";let i=t.term.replace(/^[ ?#]*/,"");try{i=encodeURIComponent(i)}catch(t){return o.error("[[error:invalid-search-term]]")}const r={term:i,in:e};return t.matchWords&&(r.matchWords=t.matchWords),s&&s.length&&("posts"===e||"titles"===e||"titlesposts"===e)&&(r.by=s),t.categories&&t.categories.length&&(r.categories=t.categories,t.searchChildren&&(r.searchChildren=t.searchChildren)),t.hasTags&&t.hasTags.length&&(r.hasTags=t.hasTags),parseInt(t.replies,10)>0&&(r.replies=t.replies,r.repliesFilter=t.repliesFilter||"atleast"),t.timeRange&&(r.timeRange=t.timeRange,r.timeFilter=t.timeFilter||"newer"),t.sortBy&&(r.sortBy=t.sortBy,r.sortDirection=t.sortDirection),t.showAs&&(r.showAs=t.showAs),t.searchOnly&&(r.searchOnly=t.searchOnly),n.fire("action:search.createQueryString",{query:r,data:t}),decodeURIComponent($.param(r))}return s.init=function(t){if(!config.searchEnabled)return;t=t||{in:config.searchDefaultInQuick||"titles"};const e=$("#search-button"),i=$("#search-fields"),r=$("#search-fields input"),a=$("#quick-search-container");$("#search-form .advanced-search-link").off("mousedown").on("mousedown",(function(){ajaxify.go("/search")})),$("#search-form").off("submit").on("submit",(function(){r.blur()})),r.off("blur").on("blur",(function(){setTimeout((function(){r.is(":focus")||(i.addClass("hidden"),e.removeClass("hidden"))}),200)})),r.off("focus");const c={inputEl:r,resultEl:a};s.enableQuickSearch({searchOptions:t,searchElements:c}),e.off("click").on("click",(function(t){return config.loggedIn||app.user.privileges["search:content"]?(t.stopPropagation(),s.showAndFocusInput(),!1):(o.alert({message:"[[error:search-requires-login]]",timeout:3e3}),ajaxify.go("login"),!1)})),$("#search-form").off("submit").on("submit",(function(){const e=$(this).find("input"),o=s.getSearchPreferences();return o.term=e.val(),o.in=t.in,n.fire("action:search.submit",{searchOptions:o,searchElements:c}),s.query(o,(function(){e.val("")})),!1}))},s.enableQuickSearch=function(e){if(!config.searchEnabled||!app.user.privileges["search:content"])return;const o=Object.assign({in:config.searchDefaultInQuick||"titles"},e.searchOptions),i=e.searchElements.resultEl,r=e.searchElements.inputEl;let a=r.val();const c=i.find(".filter-category");function u(){ajaxify.data.template.category&&t.translate("[[search:search-in-category, "+ajaxify.data.name+"]]",(function(t){const e=$("<div></div>").html(t).text();c.find(".name").text(e)})),c.toggleClass("hidden",!ajaxify.data.template.category)}function l(){e.searchOptions=Object.assign({},o),e.searchOptions.term=r.val(),u(),ajaxify.data.template.category&&c.find('input[type="checkbox"]').is(":checked")&&(e.searchOptions.categories=[ajaxify.data.cid],e.searchOptions.searchChildren=!0),i.removeClass("hidden").find(".quick-search-results-container").html(""),i.find(".loading-indicator").removeClass("hidden"),n.fire("action:search.quick.start",e),e.searchOptions.searchOnly=1,s.api(e.searchOptions,(function(t){if(i.find(".loading-indicator").addClass("hidden"),!t.posts||e.hideOnNoMatches&&!t.posts.length)return i.addClass("hidden").find(".quick-search-results-container").html("");t.posts.forEach((function(t){const e=$("<div>"+t.content+"</div>").text(),n=r.val().toLowerCase().replace(/^in:topic-\d+/,""),o=Math.max(0,e.toLowerCase().indexOf(n)-40);t.snippet=utils.escapeHTML((o>0?"...":"")+e.slice(o,o+80)+(e.length-o>80?"...":""))})),app.parseAndTranslate("partials/quick-search-results",t,(function(o){o.length&&o.find(".timeago").timeago(),i.toggleClass("hidden",!o.length||!r.is(":focus")).find(".quick-search-results-container").html(o.length?o:"");const a=i.find(".quick-search-results .quick-search-title, .quick-search-results .snippet");s.highlightMatches(e.searchOptions.term,a),n.fire("action:search.quick.complete",{data:t,options:e})}))}))}i.find('.filter-category input[type="checkbox"]').on("change",(function(){r.focus(),l()})),r.off("keyup").on("keyup",utils.debounce((function(){if(r.val().length<3)return i.addClass("hidden"),void(a=r.val());if(r.val()!==a){if(a=r.val(),!r.is(":focus"))return i.addClass("hidden");l()}}),500));let h=!1;i.on("mousedown",(function(){$(window).one("mouseup",(function(){i.addClass("hidden")})),h=!0})),r.on("blur",(function(){r.is(":focus")||h||i.hasClass("hidden")||i.addClass("hidden")}));let p=!1;n.on("action:ajaxify.end",(function(){ajaxify.isCold()||(p=!0)})),r.on("focus",(function(){h=!1;const t=r.val();a=t,t&&i.find("#quick-search-results").children().length&&(u(),p?(l(),p=!1):i.removeClass("hidden"),r[0].setSelectionRange(t.startsWith("in:topic")?t.indexOf(" ")+1:0,t.length))})),r.off("refresh").on("refresh",(function(){l()}))},s.showAndFocusInput=function(){$("#search-fields").removeClass("hidden"),$("#search-button").addClass("hidden"),$("#search-fields input").focus()},s.query=function(t,e){e=e||function(){},ajaxify.go("search?"+i(t)),e()},s.api=function(t,e){const n=config.relative_path+"/api/search?"+i(t);t.searchOnly=void 0;const o=config.relative_path+"/search?"+i(t);$.get(n,(function(t){t.url=o,e(t)}))},s.getSearchPreferences=function(){try{return JSON.parse(e.getItem("search-preferences")||"{}")}catch(t){return{}}},s.highlightMatches=function(t,e){if(!t||!e.length)return;const n=(t=utils.escapeHTML(t.replace(/^"/,"").replace(/"$/,"").trim())).split(" ").map((function(t){return utils.escapeRegexChars(t)})).join("|"),o=new RegExp("("+n+")","gi");e.each((function(){const t=$(this),e=[];t.find("*").each((function(){$(this).after("\x3c!-- "+e.length+" --\x3e"),e.push($("<div></div>").append($(this)))})),t.html(t.html().replace(o,(function(t,e){return'<strong class="search-match">'+e+"</strong>"}))),e.forEach((function(e,n){t.html(t.html().replace("\x3c!-- "+n+" --\x3e",(function(){return e.html()})))}))})),$(".search-result-text").find("img:not(.not-responsive)").addClass("img-responsive")},s}.apply(e,o))||(t.exports=s)},66603:(t,e,n)=>{"use strict";var o;void 0===(o=function(){function t(){this._store={},this._keys=[]}let e;t.prototype.isMock=!0,t.prototype.setItem=function(t,e){t=String(t),-1===this._keys.indexOf(t)&&this._keys.push(t),this._store[t]=e},t.prototype.getItem=function(t){return t=String(t),-1===this._keys.indexOf(t)?null:this._store[t]},t.prototype.removeItem=function(t){t=String(t),this._keys=this._keys.filter((function(e){return e!==t})),this._store[t]=null},t.prototype.clear=function(){this._keys=[],this._store={}},t.prototype.key=function(t){return t=parseInt(t,10)||0,this._keys[t]},Object.defineProperty&&Object.defineProperty(t.prototype,"length",{get:function(){return this._keys.length}});const n=Date.now().toString();try{if(e=window.localStorage,e.setItem(n,n),e.getItem(n)!==n)throw Error("localStorage behaved unexpectedly");return e.removeItem(n),e}catch(o){console.warn(o),console.warn("localStorage failed, falling back on sessionStorage");try{if(e=window.sessionStorage,e.setItem(n,n),e.getItem(n)!==n)throw Error("sessionStorage behaved unexpectedly");return e.removeItem(n),e}catch(e){return console.warn(e),console.warn("sessionStorage failed, falling back on memory storage"),new t}}}.call(e,n,e,t))||(t.exports=o)},10442:function(t){t.exports=function(){"use strict";function t(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}function e(t,e){if(!t)throw TypeError("Invalid arguments: "+e)}var n=["linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end"],o=function(e){function n(t){var n=e.call(this,t)||this;return n.touched=!1,n.ignores=[],n.ignoreSelector="",n.touch=!1!==t.touch,n.ignoreScrollables=!1!==t.ignoreScrollables,n.touch&&n.addTouchEvents(),n}return t(n,e),n.prototype.applyOffset=function(t){},n.prototype.initTouchEvents=function(){var t=this,e=this,n=e.width,o=e.margin,s=e.side,i=e.slope,r=e.sensitivity,a=e.menu,c=e.panel,u="left"===s?1:-1,l=0,h=0,p=0,d=0,f=0,m=0,g=0,y=!1,v=function(t){if(!t||t===document.documentElement||t===document.body)return!1;var e=getComputedStyle(t),n=e.overflowX,o=e.overflowY;return"auto"===n||"scroll"===n||"visible"===n&&"visible"!==o||v(t.parentElement)};return{onTouchstart:function(e){var n=e.target;if(!(t.ignoreSelector&&n.matches(t.ignoreSelector)||t.ignoreScrollables&&v(n)||(t.emit("touchstart",e),t.disabled||(t.touched=!1,1!==e.touches.length)))){var i=e.touches[0],r=i.clientX,a=i.clientY,c=t.offset(),u=o+c;("left"===s&&r<=u||"right"===s&&window.innerWidth-r<=u)&&(t.touched=!0,l=r,h=a,p=r,d=c,m=Date.now(),y=!0)}},onTouchmove:function(e){if(t.emit("touchmove",e),!t.disabled&&t.touched){var o=e.touches[0],s=o.clientX,r=o.clientY,v=(s-l)*u;if(!(Math.abs(v)<10)){if(y){var b=r-h;if(Math.abs(b/v)>i)return void(t.touched=!1);(t.state.closed&&v>0||t.state.opened)&&t.emit("beforeopen"),a.style.transition="",c.style.transition=""}if(t.state.opened&&v>0||t.state.closed&&v<0)return p=s,void(m=Date.now());t.state.opened=!1,t.state.closed=!1;var w=(s-p)*u>0;t.state.opening=w,t.state.closing=!w;var E=Math.min(Math.max(0,d+v),n);t.applyOffset(E),g=p,p=s,f=m,m=Date.now(),y=!1}}},onTouchend:function(e){if(t.touched&&(t.touched=!1,!y)){t.emit("touchend",e),Object.assign(t.panel.style,t.styles.base.panel),Object.assign(t.menu.style,t.styles.base.menu);var o,s,i=t.offset(),a=e.changedTouches[0].clientX;a===p?(o=g,s=f):(o=p,s=m);var c=(a-o)/(Date.now()-s)*u;i>n/2&&c>-r||c>r?t.open(e):t.close(e)}}}},n.prototype.addTouchEvents=function(){this.touchEvents||(this.touchEvents=this.initTouchEvents()),document.documentElement.addEventListener("touchstart",this.touchEvents.onTouchstart,!1),document.documentElement.addEventListener("touchmove",this.touchEvents.onTouchmove,!1),document.documentElement.addEventListener("touchend",this.touchEvents.onTouchend,!1)},n.prototype.removeTouchEvents=function(){document.documentElement.removeEventListener("touchstart",this.touchEvents.onTouchstart),document.documentElement.removeEventListener("touchmove",this.touchEvents.onTouchmove),document.documentElement.removeEventListener("touchend",this.touchEvents.onTouchend)},n.prototype.ignore=function(t){return this.ignores.push(t),this.ignoreSelector=this.ignores.join(", "),this},n.prototype.unignore=function(t){return this.ignores=this.ignores.filter((function(e){return e!==t})),this.ignoreSelector=this.ignores.join(", "),this},n.prototype.enableTouch=function(){return this.touch||(this.addTouchEvents(),this.touch=!0),this},n.prototype.disableTouch=function(){return this.touch&&(this.removeTouchEvents(),this.touch=!1),this},n}(function(){function t(o){var s=this;if(this.styles={base:{menu:{},panel:{}},open:{menu:{},panel:{}},closed:{menu:{},panel:{}}},this.handlers={beforeclose:[],closed:[],beforeopen:[],opened:[],touchstart:[],touchmove:[],touchend:[]},this.state={opened:!1,opening:!1,closed:!0,closing:!1},this.disabled=!1,!Object.values(t.modes).some((function(t){return s instanceof t})))throw TypeError("Calling this constructor is not allowed. Use `Pulling.create` instead");var i=o.menu,r=o.panel,a=o.side,c=o.mode,u=o.margin,l=o.timing,h=o.timingFunction,p=o.width,d=o.sensitivity,f=o.slope,m=(o.touch,o.openPanelClass);this.menu=i,this.panel=r,this.side=a||"left",this.mode=c||"drawer",this.margin=u||25,this.timing=l||200,this.timingFunction=h||"ease",this.width=p||256,this.sensitivity=d||.25,this.slope=f||.5,this.openPanelClass=m||null,e(i instanceof Element,"`menu` must be of type `Element`"),e(r instanceof Element,"`panel` must be of type `Element`"),e("left"===this.side||"right"===this.side,'`side` must be equal to "left" or "right"'),e("number"==typeof this.margin,'`margin` must be of type "number"'),e("number"==typeof this.timing,'`timing` must be of type "number"'),e(n.includes(this.timingFunction),"`timingFunction` must be one of "+n.map((function(t){return'"'+t+'"'})).join(", ")),e("number"==typeof this.width,'`width` must be of type "number"'),e("number"==typeof this.sensitivity,'`sensitivity` must be of type "number"'),e("number"==typeof this.slope,'`slope` must be of type "number"')}return t.create=function(e){var n=e.mode||Object.keys(t.modes)[0]||"drawer";if(!t.modes[n]){var o=Object.keys(t.modes).map((function(t){return'"'+t+'"'})).join(", ");throw TypeError("`mode` must be one of "+o)}return new t.modes[n](e)},t.prototype.emit=function(t,e){var n=this;this.handlers[t].forEach((function(t){return t.call(n,e)}))},t.prototype.on=function(t,e){return this.handlers[t].push(e),this},t.prototype.off=function(t,e){return this.handlers[t]=e?this.handlers[t].filter((function(t){return t!==e})):[],this},t.prototype.open=function(t){var e=this;if(this.emit("beforeopen",t),this.disabled)return this;if(this.state.opened)return this;this.state.closed=!1,this.state.closing=!1,this.state.opening=!0,this.state.opened=!1,this.openPanelClass&&document.documentElement.classList.add(this.openPanelClass);var n=this.offset();if(n>0){var o=this.timing*(1-n/this.width)+"ms";this.menu.style.transitionDuration=o,this.panel.style.transitionDuration=o}Object.assign(this.menu.style,this.styles.open.menu),Object.assign(this.panel.style,this.styles.open.panel);var s=function(){e.state.opening=!1,e.state.opened=!0,Object.assign(e.menu.style,e.styles.open.menu),Object.assign(e.panel.style,e.styles.open.panel),e.emit("opened")};return n===this.width?s():this.afterTransitionend(s),this},t.prototype.close=function(t){var e=this;if(this.emit("beforeclose",t),this.disabled)return this;if(this.state.closed)return this.state.closing=!1,this;this.state.closed=!1,this.state.closing=!0,this.state.opening=!1,this.state.opened=!1;var n=this.offset();if(n>0){var o=this.timing*n/this.width+"ms";this.menu.style.transitionDuration=o,this.panel.style.transitionDuration=o}Object.assign(this.menu.style,this.styles.closed.menu),Object.assign(this.panel.style,this.styles.closed.panel);var s=function(){e.state.closing=!1,e.state.closed=!0,Object.assign(e.menu.style,e.styles.closed.menu),Object.assign(e.panel.style,e.styles.closed.panel),e.openPanelClass&&document.documentElement.classList.remove(e.openPanelClass),e.emit("closed")};return 0===n?s():this.afterTransitionend(s),this},t.prototype.toggle=function(t){return!0===t?this.open():!1===t?this.close():this.toggle(this.state.closed||this.state.closing),this},t.prototype.disable=function(){return this.disabled=!0,this},t.prototype.enable=function(){return this.disabled=!1,this},t.prototype.afterTransitionend=function(t){},t.prototype.offset=function(){return 0},t.modes={},t}()),s=function(e){function n(t){var n,o=e.call(this,t)||this;return o.styles.base.menu=((n={transition:"transform "+o.timing+"ms "+o.timingFunction,overflowX:"hidden",overflowY:"auto",position:"fixed"})[o.side]="-"+o.width+"px",n.top="0",n.bottom="0",n.width=o.width+"px",n.zIndex="1",n),o.styles.open.menu={transform:"translateX("+("right"===o.side?"-":"")+o.width+"px)"},o.styles.closed.menu={transform:"translateX(0)"},Object.assign(o.menu.style,o.styles.base.menu,o.styles.closed.menu),Object.assign(o.panel.style,o.styles.base.panel,o.styles.closed.panel),o.initTransitionend(),o}return t(n,e),n.prototype.offset=function(){var t=this.menu.getBoundingClientRect();return"left"===this.side?t.left+this.width:window.innerWidth-t.left},n.prototype.applyOffset=function(t){var e="left"===this.side?1:-1;this.menu.style.transform="translateX("+t*e+"px)"},n.prototype.afterTransitionend=function(t){this.onTransitionend=t},n.prototype.initTransitionend=function(){var t=this;this.menu.addEventListener("transitionend",(function(){t.onTransitionend&&t.onTransitionend(),t.onTransitionend=null}),!1)},n}(o);return o.modes.drawer=s,Element.prototype.matches=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,Object.entries=function(t){return Object.keys(t).map((function(e){return[e,t[e]]}))},Object.values=function(t){return Object.keys(t).map((function(e){return t[e]}))},Object.assign=Object.assign||function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0,s=e;o<s.length;o++)for(var i=s[o],r=0,a=Object.entries(i);r<a.length;r++){var c=a[r],u=c[0],l=c[1];t[u]=l}return t},Array.prototype.includes=function(t){return-1!==this.indexOf(t)},o}()}}]);