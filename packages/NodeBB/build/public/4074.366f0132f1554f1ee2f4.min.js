(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[4074],{8929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContenteditableEditor=void 0;const i=n(70675),r=n(34408);class s extends i.Editor{constructor(e){super(),this.el=e,this.onInput=()=>{this.emitChangeEvent()},this.onKeydown=e=>{const t=this.getCode(e);let n;"UP"===t||"DOWN"===t?n=this.emitMoveEvent(t):"ENTER"===t?n=this.emitEnterEvent():"ESC"===t&&(n=this.emitEscEvent()),n&&n.defaultPrevented&&e.preventDefault()},this.startListening=()=>{this.el.addEventListener("input",this.onInput),this.el.addEventListener("keydown",this.onKeydown)},this.stopListening=()=>{this.el.removeEventListener("input",this.onInput),this.el.removeEventListener("keydown",this.onKeydown)},this.startListening()}destroy(){return super.destroy(),this.stopListening(),this}applySearchResult(e){const t=this.getBeforeCursor(),n=this.getAfterCursor();if(null!=t&&null!=n){const i=e.replace(t,n);if(Array.isArray(i)){let e=i[0];(0,r.isSafari)()&&(e=e.replace(t,""));const n=this.getRange();n.selectNode(n.startContainer),this.el.ownerDocument.execCommand("insertText",!1,e+i[1]),n.detach();const s=this.getRange();s.setStart(s.startContainer,e.length),s.collapse(!0)}}}getCursorOffset(){const e=this.getRange(),t=e.getBoundingClientRect(),n=this.el.ownerDocument.body.getBoundingClientRect(),i=e.startContainer,s=i instanceof Text?i.parentElement:i,o=t.left,l=(0,r.getLineHeightPx)(s),h=t.top-n.top+l;return"rtl"!==this.el.dir?{left:o,lineHeight:l,top:h}:{right:document.documentElement.clientWidth-o,lineHeight:l,top:h}}getBeforeCursor(){const e=this.getRange();return e.collapsed&&e.startContainer instanceof Text?e.startContainer.wholeText.substring(0,e.startOffset):null}getAfterCursor(){const e=this.getRange();return e.collapsed&&e.startContainer instanceof Text?e.startContainer.wholeText.substring(e.startOffset):null}getRange(e){var t;const n=null===(t=this.el.ownerDocument.defaultView)||void 0===t?void 0:t.getSelection();if(null==n)throw new Error("The element does not belong to view");for(let e=0,t=n.rangeCount;e<t;e++){const t=n.getRangeAt(e);if(this.el.contains(t.startContainer))return t}if(e)throw new Error("Unexpected");const i=this.el.ownerDocument.activeElement;this.el.focus();const r=this.getRange(!0);if(i){const e=i;e.focus&&e.focus()}return r}}t.ContenteditableEditor=s},62336:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8929),t)},92613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completer=void 0;const i=n(26729),r=n(99200);class s extends i.EventEmitter{constructor(e){super(),this.handleQueryResult=e=>{this.emit("hit",{searchResults:e})},this.strategies=e.map((e=>new r.Strategy(e)))}destroy(){return this.strategies.forEach((e=>e.destroy())),this}run(e){for(const t of this.strategies)if(t.execute(e,this.handleQueryResult))return;this.handleQueryResult([])}}t.Completer=s},98707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=t.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME=t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME=t.DEFAULT_DROPDOWN_CLASS_NAME=t.DEFAULT_DROPDOWN_PLACEMENT=t.DEFAULT_DROPDOWN_MAX_COUNT=void 0;const i=n(26729),r=n(95320);t.DEFAULT_DROPDOWN_MAX_COUNT=10,t.DEFAULT_DROPDOWN_PLACEMENT="auto",t.DEFAULT_DROPDOWN_CLASS_NAME="dropdown-menu textcomplete-dropdown",t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME="textcomplete-item",t.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME=`${t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME} active`;class s extends i.EventEmitter{constructor(e,t){super(),this.el=e,this.option=t,this.shown=!1,this.items=[],this.activeIndex=null}static create(e){const n=document.createElement("ul");n.className=e.className||t.DEFAULT_DROPDOWN_CLASS_NAME,Object.assign(n.style,{display:"none",position:"absolute",zIndex:"1000"},e.style);const i=e.parent||document.body;return null==i||i.appendChild(n),new s(n,e)}render(e,n){const i=(0,r.createCustomEvent)("render",{cancelable:!0});return this.emit("render",i),i.defaultPrevented?this:(this.clear(),0===e.length?this.hide():(this.items=e.slice(0,this.option.maxCount||t.DEFAULT_DROPDOWN_MAX_COUNT).map(((e,t)=>{var n;return new o(this,t,e,(null===(n=this.option)||void 0===n?void 0:n.item)||{})})),this.setStrategyId(e[0]).renderEdge(e,"header").renderItems().renderEdge(e,"footer").show().setOffset(n).activate(0),this.emit("rendered",(0,r.createCustomEvent)("rendered")),this))}destroy(){var e;return this.clear(),null===(e=this.el.parentNode)||void 0===e||e.removeChild(this.el),this}select(e){const t={searchResult:e.searchResult},n=(0,r.createCustomEvent)("select",{cancelable:!0,detail:t});return this.emit("select",n),n.defaultPrevented||(this.hide(),this.emit("selected",(0,r.createCustomEvent)("selected",{detail:t}))),this}show(){if(!this.shown){const e=(0,r.createCustomEvent)("show",{cancelable:!0});if(this.emit("show",e),e.defaultPrevented)return this;this.el.style.display="block",this.shown=!0,this.emit("shown",(0,r.createCustomEvent)("shown"))}return this}hide(){if(this.shown){const e=(0,r.createCustomEvent)("hide",{cancelable:!0});if(this.emit("hide",e),e.defaultPrevented)return this;this.el.style.display="none",this.shown=!1,this.clear(),this.emit("hidden",(0,r.createCustomEvent)("hidden"))}return this}clear(){return this.items.forEach((e=>e.destroy())),this.items=[],this.el.innerHTML="",this.activeIndex=null,this}up(e){return this.shown?this.moveActiveItem("prev",e):this}down(e){return this.shown?this.moveActiveItem("next",e):this}moveActiveItem(e,t){if(null!=this.activeIndex){const n="next"===e?this.getNextActiveIndex():this.getPrevActiveIndex();null!=n&&(this.activate(n),t.preventDefault())}return this}activate(e){return this.activeIndex!==e&&(null!=this.activeIndex&&this.items[this.activeIndex].deactivate(),this.activeIndex=e,this.items[e].activate()),this}isShown(){return this.shown}getActiveItem(){return null!=this.activeIndex?this.items[this.activeIndex]:null}setOffset(e){const n=document.documentElement;if(n){const i=this.el.offsetWidth;if(e.left){const t=this.option.dynamicWidth?n.scrollWidth:n.clientWidth;e.left+i>t&&(e.left=t-i),this.el.style.left=`${e.left}px`}else e.right&&(e.right-i<0&&(e.right=0),this.el.style.right=`${e.right}px`);let r=!1;const s=this.option.placement||t.DEFAULT_DROPDOWN_PLACEMENT;if("auto"===s){const t=this.items.length*e.lineHeight;r=null!=e.clientTop&&e.clientTop+t>n.clientHeight}"top"===s||r?(this.el.style.bottom=`${n.clientHeight-e.top+e.lineHeight}px`,this.el.style.top="auto"):(this.el.style.top=`${e.top}px`,this.el.style.bottom="auto")}return this}getNextActiveIndex(){if(null==this.activeIndex)throw new Error;return this.activeIndex<this.items.length-1?this.activeIndex+1:this.option.rotate?0:null}getPrevActiveIndex(){if(null==this.activeIndex)throw new Error;return 0!==this.activeIndex?this.activeIndex-1:this.option.rotate?this.items.length-1:null}renderItems(){const e=document.createDocumentFragment();for(const t of this.items)e.appendChild(t.el);return this.el.appendChild(e),this}setStrategyId(e){const t=e.getStrategyId();return t&&(this.el.dataset.strategy=t),this}renderEdge(e,t){const n=this.option[t],i=document.createElement("li");return i.className=`textcomplete-${t}`,i.innerHTML="function"==typeof n?n(e.map((e=>e.data))):n||"",this.el.appendChild(i),this}}t.Dropdown=s;class o{constructor(e,n,i,r){this.dropdown=e,this.index=n,this.searchResult=i,this.props=r,this.active=!1,this.onClick=e=>{e.preventDefault(),this.dropdown.select(this)},this.className=this.props.className||t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME,this.activeClassName=this.props.activeClassName||t.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME;const s=document.createElement("li");s.className=this.active?this.activeClassName:this.className;const o=document.createElement("span");o.tabIndex=-1,o.innerHTML=this.searchResult.render(),s.appendChild(o),s.addEventListener("click",this.onClick),this.el=s}destroy(){var e;const t=this.el;return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.removeEventListener("click",this.onClick,!1),this}activate(){return this.active||(this.active=!0,this.el.className=this.activeClassName,this.dropdown.el.scrollTop=this.el.offsetTop),this}deactivate(){return this.active&&(this.active=!1,this.el.className=this.className),this}}},18685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Editor=void 0;const i=n(26729),r=n(95320);class s extends i.EventEmitter{destroy(){return this}applySearchResult(e){throw new Error("Not implemented.")}getCursorOffset(){throw new Error("Not implemented.")}getBeforeCursor(){throw new Error("Not implemented.")}emitMoveEvent(e){const t=(0,r.createCustomEvent)("move",{cancelable:!0,detail:{code:e}});return this.emit("move",t),t}emitEnterEvent(){const e=(0,r.createCustomEvent)("enter",{cancelable:!0});return this.emit("enter",e),e}emitChangeEvent(){const e=(0,r.createCustomEvent)("change",{detail:{beforeCursor:this.getBeforeCursor()}});return this.emit("change",e),e}emitEscEvent(){const e=(0,r.createCustomEvent)("esc",{cancelable:!0});return this.emit("esc",e),e}getCode(e){return 9===e.keyCode||13===e.keyCode?"ENTER":27===e.keyCode?"ESC":38===e.keyCode?"UP":40===e.keyCode||78===e.keyCode&&e.ctrlKey?"DOWN":80===e.keyCode&&e.ctrlKey?"UP":"OTHER"}}t.Editor=s},86933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResult=void 0;const n=/\$&/g,i=/\$(\d)/g;t.SearchResult=class{constructor(e,t,n){this.data=e,this.term=t,this.strategy=n}getReplacementData(e){let t=this.strategy.replace(this.data);if(null==t)return null;let r="";Array.isArray(t)&&(r=t[1],t=t[0]);const s=this.strategy.match(e);if(null==s||null==s.index)return null;const o=t.replace(n,s[0]).replace(i,((e,t)=>s[parseInt(t)]));return{start:s.index,end:s.index+s[0].length,beforeCursor:o,afterCursor:r}}replace(e,t){const n=this.getReplacementData(e);if(null!==n)return t=n.afterCursor+t,[[e.slice(0,n.start),n.beforeCursor,e.slice(n.end)].join(""),t]}render(){return this.strategy.renderTemplate(this.data,this.term)}getStrategyId(){return this.strategy.getId()}}},99200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Strategy=t.DEFAULT_INDEX=void 0;const i=n(86933);t.DEFAULT_INDEX=1,t.Strategy=class{constructor(e){this.props=e,this.cache={}}destroy(){return this.cache={},this}replace(e){return this.props.replace(e)}execute(e,n){var r;const s=this.matchWithContext(e);if(!s)return!1;const o=s[null!==(r=this.props.index)&&void 0!==r?r:t.DEFAULT_INDEX];return this.search(o,(e=>{n(e.map((e=>new i.SearchResult(e,o,this))))}),s),!0}renderTemplate(e,t){if(this.props.template)return this.props.template(e,t);if("string"==typeof e)return e;throw new Error(`Unexpected render data type: ${typeof e}. Please implement template parameter by yourself`)}getId(){return this.props.id||null}match(e){return"function"==typeof this.props.match?this.props.match(e):e.match(this.props.match)}search(e,t,n){this.props.cache?this.searchWithCach(e,t,n):this.props.search(e,t,n)}matchWithContext(e){const t=this.context(e);return!1===t?null:this.match(!0===t?e:t)}context(e){return!this.props.context||this.props.context(e)}searchWithCach(e,t,n){null!=this.cache[e]?t(this.cache[e]):this.props.search(e,(n=>{this.cache[e]=n,t(n)}),n)}}},50409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Textcomplete=void 0;const i=n(26729),r=n(98707),s=n(92613),o=["show","shown","render","rendered","selected","hidden","hide"];class l extends i.EventEmitter{constructor(e,t,n){super(),this.editor=e,this.isQueryInFlight=!1,this.nextPendingQuery=null,this.handleHit=({searchResults:e})=>{e.length?this.dropdown.render(e,this.editor.getCursorOffset()):this.dropdown.hide(),this.isQueryInFlight=!1,null!==this.nextPendingQuery&&this.trigger(this.nextPendingQuery)},this.handleMove=e=>{"UP"===e.detail.code?this.dropdown.up(e):this.dropdown.down(e)},this.handleEnter=e=>{const t=this.dropdown.getActiveItem();t?(this.dropdown.select(t),e.preventDefault()):this.dropdown.hide()},this.handleEsc=e=>{this.dropdown.isShown()&&(this.dropdown.hide(),e.preventDefault())},this.handleChange=e=>{null!=e.detail.beforeCursor?this.trigger(e.detail.beforeCursor):this.dropdown.hide()},this.handleSelect=e=>{this.emit("select",e),e.defaultPrevented||this.editor.applySearchResult(e.detail.searchResult)},this.handleResize=()=>{this.dropdown.isShown()&&this.dropdown.setOffset(this.editor.getCursorOffset())},this.completer=new s.Completer(t),this.dropdown=r.Dropdown.create((null==n?void 0:n.dropdown)||{}),this.startListening()}destroy(e=!0){return this.completer.destroy(),this.dropdown.destroy(),e&&this.editor.destroy(),this.stopListening(),this}isShown(){return this.dropdown.isShown()}hide(){return this.dropdown.hide(),this}trigger(e){return this.isQueryInFlight?this.nextPendingQuery=e:(this.isQueryInFlight=!0,this.nextPendingQuery=null,this.completer.run(e)),this}startListening(){var e;this.editor.on("move",this.handleMove).on("enter",this.handleEnter).on("esc",this.handleEsc).on("change",this.handleChange),this.dropdown.on("select",this.handleSelect);for(const e of o)this.dropdown.on(e,(t=>this.emit(e,t)));this.completer.on("hit",this.handleHit),null===(e=this.dropdown.el.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.handleResize)}stopListening(){var e;null===(e=this.dropdown.el.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.handleResize),this.completer.removeAllListeners(),this.dropdown.removeAllListeners(),this.editor.removeListener("move",this.handleMove).removeListener("enter",this.handleEnter).removeListener("esc",this.handleEsc).removeListener("change",this.handleChange)}}t.Textcomplete=l},70675:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(92613),t),r(n(98707),t),r(n(18685),t),r(n(86933),t),r(n(99200),t),r(n(50409),t),r(n(95320),t)},95320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCustomEvent=void 0;const n="undefined"!=typeof window&&!!window.CustomEvent;t.createCustomEvent=(e,t)=>{if(n)return new CustomEvent(e,t);const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!1,(null==t?void 0:t.cancelable)||!1,(null==t?void 0:t.detail)||void 0),i}},22828:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaEditor=void 0;const r=n(54366),s=i(n(16496)),o=n(70675),l=n(34408);class h extends o.Editor{constructor(e){super(),this.el=e,this.onInput=()=>{this.emitChangeEvent()},this.onKeydown=e=>{const t=this.getCode(e);let n;"UP"===t||"DOWN"===t?n=this.emitMoveEvent(t):"ENTER"===t?n=this.emitEnterEvent():"ESC"===t&&(n=this.emitEscEvent()),n&&n.defaultPrevented&&e.preventDefault()},this.startListening()}destroy(){return super.destroy(),this.stopListening(),this}applySearchResult(e){const t=this.getBeforeCursor();if(null!=t){const n=e.replace(t,this.getAfterCursor());this.el.focus(),Array.isArray(n)&&((0,r.update)(this.el,n[0],n[1]),this.el&&this.el.dispatchEvent((0,o.createCustomEvent)("input")))}}getCursorOffset(){const e=(0,l.calculateElementOffset)(this.el),t=this.getElScroll(),n=this.getCursorPosition(),i=(0,l.getLineHeightPx)(this.el),r=e.top-t.top+n.top+i,s=e.left-t.left+n.left,o=this.el.getBoundingClientRect().top;return"rtl"!==this.el.dir?{top:r,left:s,lineHeight:i,clientTop:o}:{top:r,right:document.documentElement?document.documentElement.clientWidth-s:0,lineHeight:i,clientTop:o}}getBeforeCursor(){return this.el.selectionStart!==this.el.selectionEnd?null:this.el.value.substring(0,this.el.selectionEnd)}getAfterCursor(){return this.el.value.substring(this.el.selectionEnd)}getElScroll(){return{top:this.el.scrollTop,left:this.el.scrollLeft}}getCursorPosition(){return(0,s.default)(this.el,this.el.selectionEnd)}startListening(){this.el.addEventListener("input",this.onInput),this.el.addEventListener("keydown",this.onKeydown)}stopListening(){this.el.removeEventListener("input",this.onInput),this.el.removeEventListener("keydown",this.onKeydown)}}t.TextareaEditor=h},88207:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaEditor=void 0;var i=n(22828);Object.defineProperty(t,"TextareaEditor",{enumerable:!0,get:function(){return i.TextareaEditor}})},3566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateElementOffset=void 0,t.calculateElementOffset=e=>{const t=e.getBoundingClientRect(),n=e.ownerDocument;if(null==n)throw new Error("Given element does not belong to document");const{defaultView:i,documentElement:r}=n;if(null==i)throw new Error("Given element does not belong to window");const s={top:t.top+i.pageYOffset,left:t.left+i.pageXOffset};return r&&(s.top-=r.clientTop,s.left-=r.clientLeft),s}},41881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineHeightPx=void 0;const n="0".charCodeAt(0),i="9".charCodeAt(0),r=e=>n<=e&&e<=i;t.getLineHeightPx=e=>{const t=getComputedStyle(e),n=t.lineHeight;if(r(n.charCodeAt(0))){const e=parseFloat(n);return r(n.charCodeAt(n.length-1))?e*parseFloat(t.fontSize):e}return s(e.nodeName,t)};const s=(e,t)=>{const n=document.body;if(!n)return 0;const i=document.createElement(e);i.innerHTML="&nbsp;",Object.assign(i.style,{fontSize:t.fontSize,fontFamily:t.fontFamily,padding:"0"}),n.appendChild(i),i instanceof HTMLTextAreaElement&&(i.rows=1);const r=i.offsetHeight;return n.removeChild(i),r}},34408:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3566),t),r(n(41881),t),r(n(87449),t)},87449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=void 0,t.isSafari=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},26729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var l=new r(i,s||e,o),h=n?n+t:t;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],l]:e._events[h].push(l):(e._events[h]=l,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o},l.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,r,s,o){var l=n?n+e:e;if(!this._events[l])return!1;var h,a,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,s),!0;case 6:return c.fn.call(c.context,t,i,r,s,o),!0}for(a=1,h=new Array(d-1);a<d;a++)h[a-1]=arguments[a];c.fn.apply(c.context,h)}else{var u,p=c.length;for(a=0;a<p;a++)switch(c[a].once&&this.removeListener(e,c[a].fn,void 0,!0),d){case 1:c[a].fn.call(c[a].context);break;case 2:c[a].fn.call(c[a].context,t);break;case 3:c[a].fn.call(c[a].context,t,i);break;case 4:c[a].fn.call(c[a].context,t,i,r);break;default:if(!h)for(u=1,h=new Array(d-1);u<d;u++)h[u-1]=arguments[u];c[a].fn.apply(c[a].context,h)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,i,r){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var l=this._events[s];if(l.fn)l.fn!==t||r&&!l.once||i&&l.context!==i||o(this,s);else{for(var h=0,a=[],c=l.length;h<c;h++)(l[h].fn!==t||r&&!l[h].once||i&&l[h].context!==i)&&a.push(l[h]);a.length?this._events[s]=1===a.length?a[0]:a:o(this,s)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l},16496:e=>{!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,i=n&&null!=window.mozInnerScreenX;function r(e,r,s){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var o=s&&s.debug||!1;if(o){var l=document.querySelector("#input-textarea-caret-position-mirror-div");l&&l.parentNode.removeChild(l)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var a=h.style,c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d="INPUT"===e.nodeName;a.whiteSpace="pre-wrap",d||(a.wordWrap="break-word"),a.position="absolute",o||(a.visibility="hidden"),t.forEach((function(e){d&&"lineHeight"===e?a.lineHeight=c.height:a[e]=c[e]})),i?e.scrollHeight>parseInt(c.height)&&(a.overflowY="scroll"):a.overflow="hidden",h.textContent=e.value.substring(0,r),d&&(h.textContent=h.textContent.replace(/\s/g," "));var u=document.createElement("span");u.textContent=e.value.substring(r)||".",h.appendChild(u);var p={top:u.offsetTop+parseInt(c.borderTopWidth),left:u.offsetLeft+parseInt(c.borderLeftWidth),height:parseInt(c.lineHeight)};return o?u.style.backgroundColor="#aaa":document.body.removeChild(h),p}void 0!==e.exports?e.exports=r:n&&(window.getCaretCoordinates=r)}()},54366:(e,t,n)=>{"use strict";function i(e,t,n){const i=e.value,r=t+(n||""),s=document.activeElement;let o=0,l=0;for(;o<i.length&&o<r.length&&i[o]===r[o];)o++;for(;i.length-l-1>=0&&r.length-l-1>=0&&i[i.length-l-1]===r[r.length-l-1];)l++;o=Math.min(o,Math.min(i.length,r.length)-l),e.setSelectionRange(o,i.length-l);const h=r.substring(o,r.length-l);if(e.focus(),!document.execCommand("insertText",!1,h)){e.value=r;const t=document.createEvent("Event");t.initEvent("input",!0,!0),e.dispatchEvent(t)}return e.setSelectionRange(t.length,t.length),s.focus(),e}function r(e,t,n){const r=e.selectionEnd,s=e.value.substr(0,e.selectionStart)+t,o=e.value.substring(e.selectionStart,r)+(n||"")+e.value.substr(r);return i(e,s,o),e.selectionEnd=r+t.length,e}n.r(t),n.d(t,{update:()=>i,wrapCursor:()=>r})}}]);