"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[2735],{83713:(e,i,n)=>{var o,t;o=[n(85233)],void 0===(t=function(e){var i={render:function(i,n){if(n=n||function(){},!i.find(".preview-container").is(":visible"))return n();var o=i.find("textarea");socket.emit("plugins.composer.renderPreview",o.val(),(function(o,t){o||((t=$("<div>"+t+"</div>")).find("img:not(.not-responsive)").addClass("img-responsive"),i.find(".preview").html(t),e.fire("action:composer.preview"),n())}))},matchScroll:function(e){if(e.find(".preview-container").is(":visible")){var i=e.find("textarea"),n=e.find(".preview");if(i.length&&n.length){var o=i[0].scrollHeight-i.height();if(0===o)return;var t=i.scrollTop()/o;n.scrollTop(Math.max(n[0].scrollHeight-n.height(),0)*t)}}},handleToggler:function(e){i.env=utils.findBootstrapEnvironment();var n=e.find(".write-container .toggle-preview"),o=e.find(".preview-container .toggle-preview"),t=$(".preview-container"),r=$(".write-container");function s(){a(!1),"xs"!==i.env&&"sm"!==i.env&&localStorage.setItem("composer:previewToggled",!0)}function l(){a(!0),"xs"!==i.env&&"sm"!==i.env&&localStorage.removeItem("composer:previewToggled")}function a(o){"xs"===i.env||"sm"===i.env?(t.toggleClass("hide",!1),r.toggleClass("maximized",!1),n.toggleClass("hide",!0),t.toggleClass("hidden-xs hidden-sm",!o),r.toggleClass("hidden-xs hidden-sm",o),o&&i.render(e)):(t.toggleClass("hide",!o),r.toggleClass("maximized",!o),n.toggleClass("hide",o)),i.matchScroll(e)}i.toggle=a,o.on("click",(function(){s(),e.find(".write").focus()})),n.on("click",(function(){l(),e.find(".write").focus()})),localStorage.getItem("composer:previewToggled")||"xs"===i.env||"sm"===i.env?s():l()}};return i}.apply(i,o))||(e.exports=t)}}]);